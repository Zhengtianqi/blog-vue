<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.63" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zhengtianqi.gitee.io/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html"><meta property="og:site_name" content="郑天祺的博客"><meta property="og:title" content="达梦数据库"><meta property="og:description" content="国产oracle系数据库学习笔记 一 安装 1 规划安装用户和用户组： 不推荐使用 root 安装，规划单独的用户安装。 [root@KylinDCA03 opt]# groupadd dinstall [root@KylinDCA03 opt]# useradd -g dinstall -m -d /home/dmdba -s /bin/bash dmdba [root@KylinDCA03 opt]# passwd dmdba"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-06-10T12:47:14.000Z"><meta property="article:author" content="ztq"><meta property="article:tag" content="达梦"><meta property="article:published_time" content="2022-11-08T10:51:00.000Z"><meta property="article:modified_time" content="2023-06-10T12:47:14.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"达梦数据库","image":[""],"datePublished":"2022-11-08T10:51:00.000Z","dateModified":"2023-06-10T12:47:14.000Z","author":[{"@type":"Person","name":"ztq"}]}</script><title>达梦数据库 | 郑天祺的博客</title><meta name="description" content="国产oracle系数据库学习笔记 一 安装 1 规划安装用户和用户组： 不推荐使用 root 安装，规划单独的用户安装。 [root@KylinDCA03 opt]# groupadd dinstall [root@KylinDCA03 opt]# useradd -g dinstall -m -d /home/dmdba -s /bin/bash dmdba [root@KylinDCA03 opt]# passwd dmdba">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/blog-vue/assets/style-7f8b6fee.css" as="style"><link rel="stylesheet" href="/blog-vue/assets/style-7f8b6fee.css">
    <link rel="modulepreload" href="/blog-vue/assets/app-0ce632a0.js"><link rel="modulepreload" href="/blog-vue/assets/达梦数据库.html-814a89cd.js"><link rel="modulepreload" href="/blog-vue/assets/达梦数据库.html-2fb84fdd.js"><link rel="modulepreload" href="/blog-vue/assets/plugin-vue_export-helper-c27b6911.js"><link rel="prefetch" href="/blog-vue/assets/intro.html-073d4e0b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1d57282e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ElasticSearch客户端.html-1454500d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ElasticSearch近实时性介绍.html-b20bab89.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS-shell操作（1）.html-d30d71d5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS-shell操作（2）.html-ff6843cc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS文件操作.html-92688659.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS概述.html-729cd682.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HiveQL视图.html-343d9ece.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据定义.html-a8ce1fb6.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据操作.html-2ce614d3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据操作（2）.html-9cc1315d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据操作（3）.html-59b67554.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据类型和文件格式.html-40684a24.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive模式设计.html-c72eb3b6.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive索引.html-785cfb49.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive调优.html-c2ad0e5b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/MapReduce平均数计算.html-7afb2468.js" as="script"><link rel="prefetch" href="/blog-vue/assets/MapReduce概述.html-2efe6c2b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Milvus向量数据库之以图搜图.html-b238e863.js" as="script"><link rel="prefetch" href="/blog-vue/assets/MinIO单机安装以及使用.html-69762e34.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mybatis-plus插件统一处理createTime，createBy，updateBy.html-52b77122.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql事务.html-1c8392b6.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql排序.html-e6248baf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql突然变慢排查.html-7f6b661f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql简单主从搭建过程.html-0abd77fe.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql表设计及优化.html-8a7cae47.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Redis数据结构与对象（一）-链表.html-ef87b645.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Redis数据结构与对象（三）-字典.html-96171d53.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分库分表概念篇.html-fd076fe1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（1）.html-51daa08e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（2）.html-fee42c74.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（3）-持久化.html-54c83fe5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（4）-主从架构.html-e39f1e86.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（5）-内存调优.html-a85a606d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/DNS.html-bf46c37e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/docker20-10-7本机开启2375配置.html-c3fa8038.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Docker入门.html-5ec3e516.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Docker网络模型.html-cfd827b1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/docker镜像部署到k8s集群.html-a7af7b64.js" as="script"><link rel="prefetch" href="/blog-vue/assets/k8s构建ELK日志平台.html-54aadb20.js" as="script"><link rel="prefetch" href="/blog-vue/assets/k8s集群搭建.html-793edbfb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署-三.html-2b228398.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署-二.html-65e5c3fc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署-四.html-69fc0f35.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署.html-76037e88.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式CAP概念.html-50cf5bc0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式全局唯一ID生成策略.html-1425d58f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式锁.html-19333140.js" as="script"><link rel="prefetch" href="/blog-vue/assets/AtomicInteger.html-0a774726.js" as="script"><link rel="prefetch" href="/blog-vue/assets/BigDecimal.html-61a5765c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/CountDownLatch.html-ad273688.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Disruptor.html-554c493b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Disruptor中发布事件相关类.html-c7375acb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/GET与POST区别.html-8cf9e816.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Git梳理.html-acb78198.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hash解决冲突的方法.html-2cb8815c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HttpClient.html-3a2003d8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Http和Https的区别.html-80219cc4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/IOC中的基本反射步骤.html-3c20c069.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ip地址与子网掩码换算公式.html-444b118b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/java8新特性.html-5a708f91.js" as="script"><link rel="prefetch" href="/blog-vue/assets/java中的Queue队列.html-0c26994c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/java操作txt文件总结.html-18e9f08f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JAVA数据类型.html-34a7deff.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JDK并发包常用类.html-00d049b8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM内存结构.html-11f38710.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM垃圾回收算法.html-88fbf605.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM性能优化整理.html-86b7c2fe.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM类加载过程.html-d0a9fbcf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Kafka的简单使用.html-f9454da1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/maven梳理.html-f1d0cf98.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Nacos配置中心使用.html-1143e65c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Netty.html-ca7d2193.js" as="script"><link rel="prefetch" href="/blog-vue/assets/nginx配置.html-3a0ffd04.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Redis设计与实现.html-54f78f22.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SimpleDateFormat引发的线程安全问题.html-00c43b8d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Spark相关概述.html-208e88d0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/String、-StringBuilder、StringBuffer区别.html-830c008e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/TCP-IP四层网络模型.html-82abddf6.js" as="script"><link rel="prefetch" href="/blog-vue/assets/TCP与UDP的区别.html-aaf534b9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/TCP握手、挥手协议.html-dfaba38e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ThreadLocal.html-ac9322e4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Tomcat性能优化整理.html-1269a0ff.js" as="script"><link rel="prefetch" href="/blog-vue/assets/WordCount简析.html-aa94d290.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Yarn概述.html-3edb1f8d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/互斥锁.html-f731547f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/伪共享.html-189330a9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/偏向锁.html-7650172c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/公平锁、非公平锁.html-c8e88cf9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/加密解密.html-9f8433ad.js" as="script"><link rel="prefetch" href="/blog-vue/assets/单例模式.html-fda669a3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可信与可信计算.html-8179f5d4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可信基本概念.html-aeb082c7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可重入锁.html-56577e45.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可靠性和容错技术.html-cd7786b1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/图解公钥与私钥.html-5075f751.js" as="script"><link rel="prefetch" href="/blog-vue/assets/基于JavaAgent的全链路监控（1）.html-b9c8367e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/基于JavaAgent的全链路监控（2）.html-40252d4a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/基于JavaAgent的全链路监控（3）.html-c8044f1a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/对象存储与指针压缩.html-6cafc93f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/并发编程总结.html-4c821f5c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/悲观锁、乐观锁.html-3aafe6a3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/手写一个简单Autowired.html-9f432850.js" as="script"><link rel="prefetch" href="/blog-vue/assets/排序之比较器.html-eeb4be11.js" as="script"><link rel="prefetch" href="/blog-vue/assets/排序之比较器Comparator-T.html-f7f8560c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/数字签名.html-82d2d0fd.js" as="script"><link rel="prefetch" href="/blog-vue/assets/文件上传.html-3588abb8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/池化之线程池.html-08a247af.js" as="script"><link rel="prefetch" href="/blog-vue/assets/特征提取-简单流程.html-85c3e375.js" as="script"><link rel="prefetch" href="/blog-vue/assets/理解IO阻塞与非阻塞.html-8dbe77ba.js" as="script"><link rel="prefetch" href="/blog-vue/assets/线程相关的知识.html-762f7ab5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/自旋锁.html-2c808c47.js" as="script"><link rel="prefetch" href="/blog-vue/assets/读写锁.html-304e5c90.js" as="script"><link rel="prefetch" href="/blog-vue/assets/责任链模式.html-547c16a2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/轻量级锁.html-0dec6bab.js" as="script"><link rel="prefetch" href="/blog-vue/assets/运算符.html-91d9d359.js" as="script"><link rel="prefetch" href="/blog-vue/assets/重放攻击.html-a0715fc3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/重构.html-3252812d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/锁粗化.html-b741c1e2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/阻塞锁.html-b4a93edd.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Spring-Bean生命周期.html-78e7848b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/springboot打jar包分离资源文件.html-93c94e2a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-Alibaba整合Nacos服务注册发现.html-2837fcda.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-client配置.html-51c6c226.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-Hystrix参数配置.html-987459a3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-Ribbon参数配置.html-e2c873aa.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用Feign-Ribbon-Hystrix.html-f6dc1ff4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用Feign-Ribbon.html-19441bb5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用Feign.html-a82ee213.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用RestTemplate.html-b08f3055.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud健康检查.html-57a1740e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud异常配置.html-227c5867.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud服务构建.html-a65486e7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud服务注册.html-9501fbcc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud服务消费.html-ee1c5533.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud管理配置页面.html-87cce77b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud运维接口.html-b44ed821.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringMVC全局异常处理器.html-8bd0c1b5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式事务-springcloud-nacos-seata.html-91c42edc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/消息队列springboot-kafka.html-32390e26.js" as="script"><link rel="prefetch" href="/blog-vue/assets/404.html-6cdaa08a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-53d1361d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-40920ea4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-fd9c5221.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-4d66ddf7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-7c675db2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-fde4fd81.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-07d7f7c0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a9c7cd8a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e1476853.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-2a1cd5f3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9dae5030.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-66f3845a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-d170d608.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-07d7f7c0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1db5c5cc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-657ac257.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-bb35cbab.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-d5497f37.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-8c3a3c65.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a06c9d7c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-02bd0f39.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-5f6da027.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9a06a6f0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-966fefaa.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-47e94ce4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-21f556f2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-275d9427.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1b09c89d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-189c9767.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-031a4620.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-b8119d22.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-f9efd756.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1e0b780e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-94d1ebe5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-5d7b1780.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-2fc4c4fb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-5a11a987.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-064fe309.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-70761584.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-569ae05c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-bbf704f5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e203965f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-dd9afc78.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-f7e01ff7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-2c66cc91.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-295cc5bf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-8a630142.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-3d37a058.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-0fa9b798.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-061c39e1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-ea8cc8f3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-900f9bab.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-dd8142d3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-15470d2a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-713db11d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-4e60952c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-990c5851.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-f285adfc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-19dae65a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a434dbf9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-3ed43481.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-7df23f06.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1a99b74b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-aefbf90e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-8faace1f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-f5816c2d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-d6aa0c01.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-7dfa742b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-c94bda45.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-4f122995.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-25d50036.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-62a67079.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-096d1094.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-de7cddcf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9977b25d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e8f5027e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-4cdfaae1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e2b6b251.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9e2752ed.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-01c7eaed.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-ce79bf4c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-0c42d412.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a40ef542.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a9c7cd8a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1110af67.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-efe0bba2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-24170354.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9b3991b2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-33d372a8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-19afedb7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-73150952.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-16314b99.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-0578d275.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-131ee972.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-884127d1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-c969a1e3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1d640e71.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-22bf05d5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/intro.html-6b7e0b66.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1f20acb8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ElasticSearch客户端.html-dcb5a10a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ElasticSearch近实时性介绍.html-4e5af093.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS-shell操作（1）.html-566b581e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS-shell操作（2）.html-9010f365.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS文件操作.html-71494b56.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HDFS概述.html-64ca95ee.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HiveQL视图.html-1256e6e3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据定义.html-9fce10eb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据操作.html-07638a52.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据操作（2）.html-3a2f9eb8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据操作（3）.html-5afb5beb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive数据类型和文件格式.html-9474eb5c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive模式设计.html-060f3ee3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive索引.html-33910787.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hive调优.html-96ab2de1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/MapReduce平均数计算.html-df1fd7cb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/MapReduce概述.html-3c9d0cfd.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Milvus向量数据库之以图搜图.html-76300c13.js" as="script"><link rel="prefetch" href="/blog-vue/assets/MinIO单机安装以及使用.html-8fff5573.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mybatis-plus插件统一处理createTime，createBy，updateBy.html-6a40bbaa.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql事务.html-0e06c69c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql排序.html-e1d69ded.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql突然变慢排查.html-18c68e2a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql简单主从搭建过程.html-bad1db4f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mysql表设计及优化.html-967a326f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Redis数据结构与对象（一）-链表.html-4f42bef4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Redis数据结构与对象（三）-字典.html-b1fc764e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分库分表概念篇.html-c939f264.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（1）.html-03012df1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（2）.html-59fcaaa9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（3）-持久化.html-70fbbc85.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（4）-主从架构.html-2401013e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/初识redis（5）-内存调优.html-f69ae3ca.js" as="script"><link rel="prefetch" href="/blog-vue/assets/DNS.html-8ba4aa94.js" as="script"><link rel="prefetch" href="/blog-vue/assets/docker20-10-7本机开启2375配置.html-09037e9e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Docker入门.html-3a4f6b65.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Docker网络模型.html-5bba274e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/docker镜像部署到k8s集群.html-93dd8ecb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/k8s构建ELK日志平台.html-50934c6c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/k8s集群搭建.html-0808466f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署-三.html-6b08b50b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署-二.html-7a893f8c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署-四.html-c32457a8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/软件安装及高可用部署.html-8117de98.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式CAP概念.html-c5585a91.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式全局唯一ID生成策略.html-9305301f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式锁.html-b289bf0e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/AtomicInteger.html-a6973062.js" as="script"><link rel="prefetch" href="/blog-vue/assets/BigDecimal.html-762b7a45.js" as="script"><link rel="prefetch" href="/blog-vue/assets/CountDownLatch.html-def014b8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Disruptor.html-cec5a6bc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Disruptor中发布事件相关类.html-c8fe0316.js" as="script"><link rel="prefetch" href="/blog-vue/assets/GET与POST区别.html-71b40e7e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Git梳理.html-eef77231.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Hash解决冲突的方法.html-25c57d44.js" as="script"><link rel="prefetch" href="/blog-vue/assets/HttpClient.html-f4c2b126.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Http和Https的区别.html-515c8282.js" as="script"><link rel="prefetch" href="/blog-vue/assets/IOC中的基本反射步骤.html-c72bea8d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ip地址与子网掩码换算公式.html-696d83ca.js" as="script"><link rel="prefetch" href="/blog-vue/assets/java8新特性.html-7c755e9e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/java中的Queue队列.html-764a91eb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/java操作txt文件总结.html-bc07f33f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JAVA数据类型.html-b3973d16.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JDK并发包常用类.html-253f0208.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM内存结构.html-e0d8142a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM垃圾回收算法.html-9e33a47d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM性能优化整理.html-956b4f65.js" as="script"><link rel="prefetch" href="/blog-vue/assets/JVM类加载过程.html-e52300d1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Kafka的简单使用.html-808eae6f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/maven梳理.html-d71a6d0a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Nacos配置中心使用.html-f14771d9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Netty.html-e9731b43.js" as="script"><link rel="prefetch" href="/blog-vue/assets/nginx配置.html-ac4e9289.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Redis设计与实现.html-bbce8775.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SimpleDateFormat引发的线程安全问题.html-999b6670.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Spark相关概述.html-8b15b4ac.js" as="script"><link rel="prefetch" href="/blog-vue/assets/String、-StringBuilder、StringBuffer区别.html-148d9e1d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/TCP-IP四层网络模型.html-6483be62.js" as="script"><link rel="prefetch" href="/blog-vue/assets/TCP与UDP的区别.html-d8e7941b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/TCP握手、挥手协议.html-8cc8b36c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/ThreadLocal.html-991e657f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Tomcat性能优化整理.html-1a7c7d58.js" as="script"><link rel="prefetch" href="/blog-vue/assets/WordCount简析.html-9f4df756.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Yarn概述.html-5057c069.js" as="script"><link rel="prefetch" href="/blog-vue/assets/互斥锁.html-047b3d70.js" as="script"><link rel="prefetch" href="/blog-vue/assets/伪共享.html-35f1d48d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/偏向锁.html-249a89e3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/公平锁、非公平锁.html-03dbc642.js" as="script"><link rel="prefetch" href="/blog-vue/assets/加密解密.html-a45a0b86.js" as="script"><link rel="prefetch" href="/blog-vue/assets/单例模式.html-7a54051c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可信与可信计算.html-907d98d0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可信基本概念.html-333e3b7f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可重入锁.html-8569aa24.js" as="script"><link rel="prefetch" href="/blog-vue/assets/可靠性和容错技术.html-c2e60f5a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/图解公钥与私钥.html-fb8a8cc7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/基于JavaAgent的全链路监控（1）.html-81757ffd.js" as="script"><link rel="prefetch" href="/blog-vue/assets/基于JavaAgent的全链路监控（2）.html-26054f95.js" as="script"><link rel="prefetch" href="/blog-vue/assets/基于JavaAgent的全链路监控（3）.html-a4110626.js" as="script"><link rel="prefetch" href="/blog-vue/assets/对象存储与指针压缩.html-6b7670c0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/并发编程总结.html-dabce55c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/悲观锁、乐观锁.html-7e86fa61.js" as="script"><link rel="prefetch" href="/blog-vue/assets/手写一个简单Autowired.html-cd469e43.js" as="script"><link rel="prefetch" href="/blog-vue/assets/排序之比较器.html-e040c387.js" as="script"><link rel="prefetch" href="/blog-vue/assets/排序之比较器Comparator-T.html-6284b09a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/数字签名.html-69f190af.js" as="script"><link rel="prefetch" href="/blog-vue/assets/文件上传.html-c437982a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/池化之线程池.html-77dcb32e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/特征提取-简单流程.html-2996094c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/理解IO阻塞与非阻塞.html-fc401ddb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/线程相关的知识.html-fb95543b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/自旋锁.html-58a366ae.js" as="script"><link rel="prefetch" href="/blog-vue/assets/读写锁.html-27e934b6.js" as="script"><link rel="prefetch" href="/blog-vue/assets/责任链模式.html-ae8ad0f4.js" as="script"><link rel="prefetch" href="/blog-vue/assets/轻量级锁.html-c2509906.js" as="script"><link rel="prefetch" href="/blog-vue/assets/运算符.html-90e109d2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/重放攻击.html-65778458.js" as="script"><link rel="prefetch" href="/blog-vue/assets/重构.html-2b0409f3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/锁粗化.html-5daaeb13.js" as="script"><link rel="prefetch" href="/blog-vue/assets/阻塞锁.html-8bd5942c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/Spring-Bean生命周期.html-7ecc1b0d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/springboot打jar包分离资源文件.html-ee8331f9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-Alibaba整合Nacos服务注册发现.html-76be2cd0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-client配置.html-1ca53d89.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-Hystrix参数配置.html-8f59d17f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud-Ribbon参数配置.html-b11dd203.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用Feign-Ribbon-Hystrix.html-41226cd5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用Feign-Ribbon.html-9ded7f30.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用Feign.html-faf6dbd3.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud使用RestTemplate.html-4b1b255e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud健康检查.html-894c9558.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud异常配置.html-c3198216.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud服务构建.html-b925979f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud服务注册.html-72bd9001.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud服务消费.html-bda26641.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud管理配置页面.html-5541838c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringCloud运维接口.html-c77c52a7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/SpringMVC全局异常处理器.html-fb76aa44.js" as="script"><link rel="prefetch" href="/blog-vue/assets/分布式事务-springcloud-nacos-seata.html-24131154.js" as="script"><link rel="prefetch" href="/blog-vue/assets/消息队列springboot-kafka.html-2e104cc5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/404.html-d3ecc42a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9e388f0f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-ff3ca79c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-77bea6bf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-0505bafb.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e8dfc96a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-5cfe3acd.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1c678c98.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-fd109f3a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-95d2e0be.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-23a5d503.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-4410cc52.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-914dcc7e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-79306e0f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1c678c98.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-6d0bba75.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9d3e3b69.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-407f7286.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-43779f78.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-5de8c267.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-795489f0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a5763d1c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-1e87f44c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-5e21969e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-c57f5339.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9005f5d8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-f2524fd5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-34519bb9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-aafa4e5b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-cd968ab9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-236e5684.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-b82abec1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-c6da3101.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-64bc4daf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-39e9ba7e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-896d199d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-0d7d7500.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-90fa2cdf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a8385a09.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a56d1c6e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-cfe221d0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-2acbcb0a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-79ecb422.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-db255fb2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e0abedba.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e6eceb03.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-28d3c283.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-2b9761de.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-ab0c0685.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-f21b193c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e871180a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-65dbf69c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-b07dc721.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-6ee77c78.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-76837231.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-d1f1a538.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-07f02579.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-a813bcc1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-b0d20eef.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-969cb776.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-b1a4c84a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-9781efe0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-85da9cba.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-0e223ce9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-c35daa15.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-367657cc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-52ee8978.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-cc26de35.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-bdf4a922.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-48d45508.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-251c2056.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-dbb57e5b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-565744a5.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-050ec90b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-7b9a2bab.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-22417a20.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-6d4da8c8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-029cfb0b.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-08f926c9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-f29929a1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-38d6b599.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-129d7677.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-efff0c98.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e98a28b8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-fd109f3a.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-71368dc2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-c702d025.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-6d192cfc.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e7d8684d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-911935b9.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-0915228c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-488520ab.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-74020fea.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-ce2bdf2f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-cdcc7950.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-e6601f02.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-fce3de05.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-b85a4d7c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index.html-6923400e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/waline-meta-a31b78ed.js" as="script"><link rel="prefetch" href="/blog-vue/assets/component-46a7814f.js" as="script"><link rel="prefetch" href="/blog-vue/assets/auto-fa8841cf.js" as="script"><link rel="prefetch" href="/blog-vue/assets/index-ae8c1e74.js" as="script"><link rel="prefetch" href="/blog-vue/assets/flowchart-d65a1d8e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/mermaid.core-b5baef62.js" as="script"><link rel="prefetch" href="/blog-vue/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/blog-vue/assets/markdown.esm-0191f9da.js" as="script"><link rel="prefetch" href="/blog-vue/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/blog-vue/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/blog-vue/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/blog-vue/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/blog-vue/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/blog-vue/assets/VuePlayground-d23559e7.js" as="script"><link rel="prefetch" href="/blog-vue/assets/photoswipe.esm-2450701e.js" as="script"><link rel="prefetch" href="/blog-vue/assets/pageview-760b8c11.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="md-link vp-brand" href="/blog-vue/"><img class="vp-nav-logo" src="/blog-vue/logo.svg" alt="郑天祺的博客"><!----><span class="vp-site-name hide-in-pad">郑天祺的博客</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="md-link nav-link" href="/blog-vue/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>博客主页<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>博客主页<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">文章</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Database</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Dev Ops</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Distributed</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">Java</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E6%82%B2%E8%A7%82%E9%94%81%E3%80%81%E4%B9%90%E8%A7%82%E9%94%81.html"><!---->悲观锁、乐观锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E6%80%BB%E7%BB%93.html"><!---->并发编程总结<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E6%B1%A0%E5%8C%96%E4%B9%8B%E7%BA%BF%E7%A8%8B%E6%B1%A0.html"><!---->池化之线程池<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html"><!---->达梦数据库<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#_1-规划安装用户和用户组"><!---->1 规划安装用户和用户组：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#_2-规划安装目录"><!---->2 规划安装目录：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#_3-挂载-iso-镜像文件"><!---->3 挂载 iso 镜像文件：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#_4-安装方式"><!---->4 安装方式：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#_5-卸载-dm-数据库"><!---->5 卸载 DM 数据库<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#方式1-dm-数据库配置助手图形化界面方式创建数据库"><!---->方式1 DM 数据库配置助手图形化界面方式创建数据库<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#方式2-dminit-命令行创建数据库实例"><!---->方式2 dminit 命令行创建数据库实例<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#两种方式注册数据库服务"><!---->两种方式注册数据库服务：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#_1-连接数据库"><!---->1 连接数据库<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#方式一-dm-管理工具图形化界面连接数据库"><!---->方式一 DM 管理工具图形化界面连接数据库<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#方式二-disql-命令行方式连接数据库"><!---->方式二 disql 命令行方式连接数据库<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#网络配置助手配置连接串"><!---->网络配置助手配置连接串<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-数据库"><!---->DM 数据库<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#root-启动"><!---->Root 启动：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dmdba-用户启动"><!---->dmdba 用户启动<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-管理工具-manager"><!---->DM 管理工具（manager）<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-控制台工具-console"><!---->DM 控制台工具（console）<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-数据迁移工具-dts"><!---->DM 数据迁移工具（dts）<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-性能监视工具-monitor"><!---->DM 性能监视工具（monitor）：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm8-数据库是由数据库和实例构成"><!---->DM8 数据库是由数据库和实例构成<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#数据库"><!---->数据库：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#实例"><!---->实例：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-存储结构"><!---->DM 存储结构<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-数据库参数的类型"><!---->DM 数据库参数的类型：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#运行时的内存池"><!---->运行时的内存池：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#dm-线程"><!---->DM 线程<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#监听线程"><!---->监听线程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#工作线程"><!---->工作线程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#io-线程"><!---->IO 线程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#日志刷新线程"><!---->日志刷新线程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#日志归档线程"><!---->日志归档线程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#日志重做线程"><!---->日志重做线程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#调度线程"><!---->调度线程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#管理表空间"><!---->管理表空间<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#修改tmp表空间"><!---->修改TMP表空间<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#创建表空间"><!---->创建表空间<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#表空间重命名"><!---->表空间重命名<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#归档管理"><!---->归档管理<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#sql-开启归档"><!---->SQL 开启归档<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#修改-dm-ini-和-dmarch-ini-配置文件开启归档"><!---->修改 dm.ini 和 dmarch.ini 配置文件开启归档<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#归档日志文件的切换和删除"><!---->归档日志文件的切换和删除<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#归档文件的删除"><!---->归档文件的删除<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#用户类型"><!---->用户类型<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#系统口令策略"><!---->系统口令策略<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#修改系统口令策略"><!---->修改系统口令策略：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#sql-管理用户"><!---->SQL 管理用户<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#用户输入错误多次-默认-3-次-将会被锁定。"><!---->用户输入错误多次（默认 3 次），将会被锁定。<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#创建用户"><!---->创建用户<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#用户锁定和解锁"><!---->用户锁定和解锁：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#修改用户的默认表空间"><!---->修改用户的默认表空间：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#修改用户密码"><!---->修改用户密码:<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#删除用户"><!---->删除用户：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#用户资源限制"><!---->用户资源限制<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#赋予数据库权限-系统权限"><!---->赋予数据库权限（系统权限）：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#赋予对象权限"><!---->赋予对象权限:<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#查看当前用户拥有的权限"><!---->查看当前用户拥有的权限：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#权限的回收"><!---->权限的回收：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#角色类型"><!---->角色类型<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#备份还原基本概念"><!---->备份还原基本概念<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#备份-还原与恢复的关系"><!---->备份 还原与恢复的关系<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#查看-ap-服务是否启动"><!---->查看 AP 服务是否启动：<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#脱机备份与还原数据库"><!---->脱机备份与还原数据库<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#表空间的还原和恢复"><!---->表空间的还原和恢复<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="md-link nav-link vp-sidebar-link vp-heading" href="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html#联机备份与还原数据库"><!---->联机备份与还原数据库<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html"><!---->单例模式<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E8%AF%BB%E5%86%99%E9%94%81.html"><!---->读写锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8%E4%B8%8E%E6%8C%87%E9%92%88%E5%8E%8B%E7%BC%A9.html"><!---->对象存储与指针压缩<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%85%AC%E5%B9%B3%E9%94%81%E3%80%81%E9%9D%9E%E5%85%AC%E5%B9%B3%E9%94%81.html"><!---->公平锁、非公平锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E4%BA%92%E6%96%A5%E9%94%81.html"><!---->互斥锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%9F%BA%E4%BA%8EJavaAgent%E7%9A%84%E5%85%A8%E9%93%BE%E8%B7%AF%E7%9B%91%E6%8E%A7%EF%BC%881%EF%BC%89.html"><!---->基于JavaAgent的全链路监控（1）<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%9F%BA%E4%BA%8EJavaAgent%E7%9A%84%E5%85%A8%E9%93%BE%E8%B7%AF%E7%9B%91%E6%8E%A7%EF%BC%882%EF%BC%89.html"><!---->基于JavaAgent的全链路监控（2）<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%9F%BA%E4%BA%8EJavaAgent%E7%9A%84%E5%85%A8%E9%93%BE%E8%B7%AF%E7%9B%91%E6%8E%A7%EF%BC%883%EF%BC%89.html"><!---->基于JavaAgent的全链路监控（3）<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%8A%A0%E5%AF%86%E8%A7%A3%E5%AF%86.html"><!---->加密解密<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%8F%AF%E9%9D%A0%E6%80%A7%E5%92%8C%E5%AE%B9%E9%94%99%E6%8A%80%E6%9C%AF.html"><!---->可靠性和容错技术<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%8F%AF%E4%BF%A1%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5.html"><!---->可信基本概念<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%8F%AF%E4%BF%A1%E4%B8%8E%E5%8F%AF%E4%BF%A1%E8%AE%A1%E7%AE%97.html"><!---->可信与可信计算<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%8F%AF%E9%87%8D%E5%85%A5%E9%94%81.html"><!---->可重入锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E7%90%86%E8%A7%A3IO%E9%98%BB%E5%A1%9E%E4%B8%8E%E9%9D%9E%E9%98%BB%E5%A1%9E.html"><!---->理解IO阻塞与非阻塞<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E6%8E%92%E5%BA%8F%E4%B9%8B%E6%AF%94%E8%BE%83%E5%99%A8.html"><!---->排序之比较器Comparable&lt;T&gt;<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E6%8E%92%E5%BA%8F%E4%B9%8B%E6%AF%94%E8%BE%83%E5%99%A8Comparator-T.html"><!---->排序之比较器Comparator&lt;T&gt;<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%81%8F%E5%90%91%E9%94%81.html"><!---->偏向锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81.html"><!---->轻量级锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95Autowired.html"><!---->手写一个简单Autowired<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E6%95%B0%E5%AD%97%E7%AD%BE%E5%90%8D.html"><!---->数字签名<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E9%94%81%E7%B2%97%E5%8C%96.html"><!---->锁粗化<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E5%9B%BE%E8%A7%A3%E5%85%AC%E9%92%A5%E4%B8%8E%E7%A7%81%E9%92%A5.html"><!---->图解公钥私钥<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E4%BC%AA%E5%85%B1%E4%BA%AB.html"><!---->伪共享<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0.html"><!---->文件上传之Content-Type<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E7%BA%BF%E7%A8%8B%E7%9B%B8%E5%85%B3%E7%9A%84%E7%9F%A5%E8%AF%86.html"><!---->线程相关的知识<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E7%89%B9%E5%BE%81%E6%8F%90%E5%8F%96-%E7%AE%80%E5%8D%95%E6%B5%81%E7%A8%8B.html"><!---->用户行为特征提取<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E8%BF%90%E7%AE%97%E7%AC%A6.html"><!---->运算符<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E8%B4%A3%E4%BB%BB%E9%93%BE%E6%A8%A1%E5%BC%8F.html"><!---->责任链模式<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E9%87%8D%E6%94%BE%E6%94%BB%E5%87%BB.html"><!---->重放攻击<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E9%87%8D%E6%9E%84.html"><!---->重构<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E8%87%AA%E6%97%8B%E9%94%81.html"><!---->自旋锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/%E9%98%BB%E5%A1%9E%E9%94%81.html"><!---->阻塞锁<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/AtomicInteger.html"><!---->AtomicInteger<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/BigDecimal.html"><!---->BigDecimal<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/CountDownLatch.html"><!---->CountDownLatch<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Disruptor.html"><!---->Disruptor<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Disruptor%E4%B8%AD%E5%8F%91%E5%B8%83%E4%BA%8B%E4%BB%B6%E7%9B%B8%E5%85%B3%E7%B1%BB.html"><!---->Disruptor中发布事件相关类<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/GET%E4%B8%8EPOST%E5%8C%BA%E5%88%AB.html"><!---->GET与POST区别<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Git%E6%A2%B3%E7%90%86.html"><!---->Git梳理<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Hash%E8%A7%A3%E5%86%B3%E5%86%B2%E7%AA%81%E7%9A%84%E6%96%B9%E6%B3%95.html"><!---->Hash解决冲突的方法<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Http%E5%92%8CHttps%E7%9A%84%E5%8C%BA%E5%88%AB.html"><!---->Http和Https的区别<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/HttpClient.html"><!---->HttpClient<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/IOC%E4%B8%AD%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%8F%8D%E5%B0%84%E6%AD%A5%E9%AA%A4.html"><!---->IOC中的基本反射步骤<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/ip%E5%9C%B0%E5%9D%80%E4%B8%8E%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81%E6%8D%A2%E7%AE%97%E5%85%AC%E5%BC%8F.html"><!---->ip地址与子网掩码换算公式<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/java8%E6%96%B0%E7%89%B9%E6%80%A7.html"><!---->java8新特性<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/java%E6%93%8D%E4%BD%9Ctxt%E6%96%87%E4%BB%B6%E6%80%BB%E7%BB%93.html"><!---->java操作txt文件总结<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/JAVA%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html"><!---->JAVA数据类型易混概念<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/java%E4%B8%AD%E7%9A%84Queue%E9%98%9F%E5%88%97.html"><!---->java中的Queue队列<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/JDK%E5%B9%B6%E5%8F%91%E5%8C%85%E5%B8%B8%E7%94%A8%E7%B1%BB.html"><!---->JDK并发包常用类<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95.html"><!---->JVM垃圾回收算法<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/JVM%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B.html"><!---->JVM类加载过程<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/JVM%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84.html"><!---->JVM内存结构<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/JVM%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%95%B4%E7%90%86.html"><!---->JVM性能优化整理<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Kafka%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8.html"><!---->Kafka的简单使用<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/maven%E6%A2%B3%E7%90%86.html"><!---->maven梳理<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Nacos%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83%E4%BD%BF%E7%94%A8.html"><!---->Nacos配置中心使用<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Netty.html"><!---->Netty介绍及简单示例<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/nginx%E9%85%8D%E7%BD%AE.html"><!---->nginx配置<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Redis%E8%AE%BE%E8%AE%A1%E4%B8%8E%E5%AE%9E%E7%8E%B0.html"><!---->Redis数据结构与对象（一）-简单动态字符串<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/SimpleDateFormat%E5%BC%95%E5%8F%91%E7%9A%84%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98.html"><!---->SimpleDateFormat引发的线程安全问题<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Spark%E7%9B%B8%E5%85%B3%E6%A6%82%E8%BF%B0.html"><!---->Spark相关概述<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/String%E3%80%81-StringBuilder%E3%80%81StringBuffer%E5%8C%BA%E5%88%AB.html"><!---->String、 StringBuilder、StringBuffer区别<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/TCP-IP%E5%9B%9B%E5%B1%82%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B.html"><!---->TCP IP四层网络模型<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/TCP%E6%8F%A1%E6%89%8B%E3%80%81%E6%8C%A5%E6%89%8B%E5%8D%8F%E8%AE%AE.html"><!---->TCP握手、挥手协议<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/TCP%E4%B8%8EUDP%E7%9A%84%E5%8C%BA%E5%88%AB.html"><!---->TCP与UDP的区别<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/ThreadLocal.html"><!---->ThreadLocal<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Tomcat%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%95%B4%E7%90%86.html"><!---->Tomcat性能优化整理<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/WordCount%E7%AE%80%E6%9E%90.html"><!---->WordCount简析<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/posts/java/Yarn%E6%A6%82%E8%BF%B0.html"><!---->Yarn概述<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Spring</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/intro.html"><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span>介绍页<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="md-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog-vue/slides.html"><!---->/slides.html<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->达梦数据库</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">ztq</span></span><span property="author" content="ztq"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-11-08T10:51:00.000Z"></span><span class="page-pageview-info" aria-label="访问量🔢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="waline-pageview-count" data-path="/blog-vue/posts/java/%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93.html">...</span></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 31 分钟</span><meta property="timeRequired" content="PT31M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category6 clickable" role="navigation">数据库</span><!--]--><meta property="articleSection" content="数据库"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag6 clickable" role="navigation">达梦</span><!--]--><meta property="keywords" content="达梦"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#_1-规划安装用户和用户组">1 规划安装用户和用户组：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#_2-规划安装目录">2 规划安装目录：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#_3-挂载-iso-镜像文件">3 挂载 iso 镜像文件：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#_4-安装方式">4 安装方式：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#_5-卸载-dm-数据库">5 卸载 DM 数据库</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#方式1-dm-数据库配置助手图形化界面方式创建数据库">方式1 DM 数据库配置助手图形化界面方式创建数据库</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#方式2-dminit-命令行创建数据库实例">方式2 dminit 命令行创建数据库实例</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#两种方式注册数据库服务">两种方式注册数据库服务：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#_1-连接数据库">1 连接数据库</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#方式一-dm-管理工具图形化界面连接数据库">方式一 DM 管理工具图形化界面连接数据库</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#方式二-disql-命令行方式连接数据库">方式二 disql 命令行方式连接数据库</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#网络配置助手配置连接串">网络配置助手配置连接串</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#dm-数据库">DM 数据库</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#root-启动">Root 启动：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dmdba-用户启动">dmdba 用户启动</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm-管理工具-manager">DM 管理工具（manager）</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm-控制台工具-console">DM 控制台工具（console）</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm-数据迁移工具-dts">DM 数据迁移工具（dts）</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm-性能监视工具-monitor">DM 性能监视工具（monitor）：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm8-数据库是由数据库和实例构成">DM8 数据库是由数据库和实例构成</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#数据库">数据库：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#实例">实例：</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm-存储结构">DM 存储结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm-数据库参数的类型">DM 数据库参数的类型：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#运行时的内存池">运行时的内存池：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#dm-线程">DM 线程</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#监听线程">监听线程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#工作线程">工作线程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#io-线程">IO 线程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#日志刷新线程">日志刷新线程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#日志归档线程">日志归档线程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#日志重做线程">日志重做线程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level3" href="/blog-vue/#调度线程">调度线程</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#管理表空间">管理表空间</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#修改tmp表空间">修改TMP表空间</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#创建表空间">创建表空间</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#表空间重命名">表空间重命名</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#归档管理">归档管理</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#sql-开启归档">SQL 开启归档</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#修改-dm-ini-和-dmarch-ini-配置文件开启归档">修改 dm.ini 和 dmarch.ini 配置文件开启归档</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#归档日志文件的切换和删除">归档日志文件的切换和删除</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#归档文件的删除">归档文件的删除</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#用户类型">用户类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#系统口令策略">系统口令策略</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#修改系统口令策略">修改系统口令策略：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#sql-管理用户">SQL 管理用户</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#用户输入错误多次-默认-3-次-将会被锁定。">用户输入错误多次（默认 3 次），将会被锁定。</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#创建用户">创建用户</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#用户锁定和解锁">用户锁定和解锁：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#修改用户的默认表空间">修改用户的默认表空间：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#修改用户密码">修改用户密码:</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#删除用户">删除用户：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#用户资源限制">用户资源限制</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#赋予数据库权限-系统权限">赋予数据库权限（系统权限）：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#赋予对象权限">赋予对象权限:</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#查看当前用户拥有的权限">查看当前用户拥有的权限：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#权限的回收">权限的回收：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#角色类型">角色类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#备份还原基本概念">备份还原基本概念</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#备份-还原与恢复的关系">备份 还原与恢复的关系</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#查看-ap-服务是否启动">查看 AP 服务是否启动：</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#脱机备份与还原数据库">脱机备份与还原数据库</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#表空间的还原和恢复">表空间的还原和恢复</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="md-link toc-link level2" href="/blog-vue/#联机备份与还原数据库">联机备份与还原数据库</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><p>国产oracle系数据库学习笔记</p><h1 id="一-安装" tabindex="-1"><a class="header-anchor" href="#一-安装" aria-hidden="true">#</a> 一 安装</h1><h2 id="_1-规划安装用户和用户组" tabindex="-1"><a class="header-anchor" href="#_1-规划安装用户和用户组" aria-hidden="true">#</a> 1 规划安装用户和用户组：</h2><p>不推荐使用 root 安装，规划单独的用户安装。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># groupadd dinstall
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># useradd <span class="token operator">-</span>g dinstall <span class="token operator">-</span>m <span class="token operator">-</span>d <span class="token operator">/</span>home<span class="token operator">/</span>dmdba <span class="token operator">-</span>s <span class="token operator">/</span>bin<span class="token operator">/</span>bash dmdba
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># passwd dmdba
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更改用户 dmdba 的密码 。 新的 密码： 重新输入新的 密码： passwd：所有的身份验证令牌已经成功更新。</p><h2 id="_2-规划安装目录" tabindex="-1"><a class="header-anchor" href="#_2-规划安装目录" aria-hidden="true">#</a> 2 规划安装目录：</h2><p>创建安装目录/dm8，并修改安装目录的所属组给 dmdba 用户和该用户所属组</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># mkdir <span class="token operator">/</span>dm8
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># ls <span class="token operator">-</span>ld <span class="token operator">/</span>dm8
drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">50</span> <span class="token operator">/</span>dm8
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># chown dmdba<span class="token operator">:</span>dinstall <span class="token operator">/</span>dm8
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># ls <span class="token operator">-</span>ld <span class="token operator">/</span>dm8
drwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">2</span> dmdba dinstall <span class="token number">6</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">50</span> <span class="token operator">/</span>dm8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-挂载-iso-镜像文件" tabindex="-1"><a class="header-anchor" href="#_3-挂载-iso-镜像文件" aria-hidden="true">#</a> 3 挂载 iso 镜像文件：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># mkdir <span class="token operator">/</span>mnt<span class="token operator">/</span>dm
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># mount <span class="token operator">/</span>opt<span class="token operator">/</span>dm8_20210818_x86_rh6_64_ent_8<span class="token punctuation">.</span><span class="token number">4.2</span><span class="token number">.18_</span>pack14<span class="token punctuation">.</span>iso 
<span class="token operator">/</span>mnt<span class="token operator">/</span>dm
mount<span class="token operator">:</span> <span class="token operator">/</span>mnt<span class="token operator">/</span>dm<span class="token operator">:</span> <span class="token constant">WARNING</span><span class="token operator">:</span> source write<span class="token operator">-</span><span class="token keyword">protected</span><span class="token punctuation">,</span> mounted read<span class="token operator">-</span>only<span class="token punctuation">.</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> opt<span class="token punctuation">]</span># su <span class="token operator">-</span> dmdba
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ cd <span class="token operator">/</span>mnt<span class="token operator">/</span>dm
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> dm<span class="token punctuation">]</span>$ ll
总用量 <span class="token number">739440</span>
<span class="token operator">-</span>r<span class="token operator">-</span>xr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> root root <span class="token number">2784248</span> <span class="token number">8</span> 月 <span class="token number">23</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">36</span> &#39;<span class="token constant">DM8</span> <span class="token class-name">Install</span><span class="token punctuation">.</span>pdf&#39;
<span class="token operator">-</span>r<span class="token operator">-</span>xr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> root root <span class="token number">754402133</span> <span class="token number">8</span> 月 <span class="token number">23</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">40</span> <span class="token class-name">DMInstall</span><span class="token punctuation">.</span>bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-安装方式" tabindex="-1"><a class="header-anchor" href="#_4-安装方式" aria-hidden="true">#</a> 4 安装方式：</h2><p>（1）第一次启动虚拟机，执行下 xhost +</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> 桌面<span class="token punctuation">]</span># xhost <span class="token operator">+</span>
access control disabled<span class="token punctuation">,</span> clients can connect from any host
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>（2）查看 root 用户的 DISPLAY 变量值</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> 桌面<span class="token punctuation">]</span># echo $<span class="token constant">DISPLAY</span>
<span class="token operator">:</span><span class="token number">0.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>（3）切换 dmdba 用户</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> 桌面<span class="token punctuation">]</span># su <span class="token operator">-</span> dmdba
上一次登录： 一 <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">09</span> <span class="token constant">CST</span> <span class="token number">2021</span> pts<span class="token operator">/</span><span class="token number">1</span> 上
（<span class="token number">4</span>）设置 dmdba 用户的 <span class="token constant">DISPLAY</span> 变量值为步骤（<span class="token number">1</span>）中的值（仅对当前会话生效）
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ export <span class="token constant">DISPLAY</span><span class="token operator">=</span><span class="token operator">:</span><span class="token number">0.0</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ cd <span class="token operator">/</span>mnt<span class="token operator">/</span>dm
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> dm<span class="token punctuation">]</span>$ ll
总用量 <span class="token number">739440</span>
<span class="token operator">-</span>r<span class="token operator">-</span>xr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> root root <span class="token number">2784248</span> <span class="token number">8</span> 月 <span class="token number">23</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">36</span> &#39;<span class="token constant">DM8</span> <span class="token class-name">Install</span><span class="token punctuation">.</span>pdf&#39;
<span class="token operator">-</span>r<span class="token operator">-</span>xr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> root root <span class="token number">754402133</span> <span class="token number">8</span> 月 <span class="token number">23</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">40</span> <span class="token class-name">DMInstall</span><span class="token punctuation">.</span>bin
## <span class="token number">2</span> 图形化界面方式安装 <span class="token constant">DM</span> 数据库
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> dm<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/<span class="token class-name">DMInstall</span><span class="token punctuation">.</span>bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装时报 tmp 不足的解决方法 如果安装时报错 tmp 不足，可以设置 DM_INSTALL_TMPDIR 变量，指定到别的路径下(存 储空间大于 2G)。 设置参考如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> opt<span class="token punctuation">]</span># mkdir tmp
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> opt<span class="token punctuation">]</span># chown dmdba<span class="token operator">:</span>dinstall <span class="token operator">/</span>opt<span class="token operator">/</span>tmp
或
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> opt<span class="token punctuation">]</span># chmod <span class="token number">777</span> <span class="token operator">/</span>opt<span class="token operator">/</span>tmp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> opt<span class="token punctuation">]</span># su <span class="token operator">-</span> dmdba
上一次登录： 四 <span class="token number">6</span> 月 <span class="token number">30</span> <span class="token number">09</span><span class="token operator">:</span><span class="token number">06</span><span class="token operator">:</span><span class="token number">43</span> <span class="token constant">CST</span> <span class="token number">2022</span> pts<span class="token operator">/</span><span class="token number">1</span> 上
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ export <span class="token constant">DM_INSTALL_TMPDIR</span><span class="token operator">=</span><span class="token operator">/</span>opt<span class="token operator">/</span>tmp
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ cd <span class="token operator">/</span>mnt<span class="token operator">/</span>dm
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@localhost</span> dm<span class="token punctuation">]</span>$ ll
总用量 <span class="token number">927088</span>
<span class="token operator">-</span>r<span class="token operator">-</span>xr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> root root <span class="token number">2802237</span> <span class="token number">3</span> 月 <span class="token number">4</span> <span class="token number">13</span><span class="token operator">:</span><span class="token number">39</span> &#39;<span class="token constant">DM8</span> <span class="token class-name">Install</span><span class="token punctuation">.</span>pdf&#39;
<span class="token operator">-</span>r<span class="token operator">-</span>xr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> root root <span class="token number">946534466</span> <span class="token number">3</span> 月 <span class="token number">4</span> <span class="token number">13</span><span class="token operator">:</span><span class="token number">44</span> <span class="token class-name">DMInstall</span><span class="token punctuation">.</span>bin
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@localhost</span> dm<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/<span class="token class-name">DMInstall</span><span class="token punctuation">.</span>bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（5）设置文件打开数</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>vim <span class="token operator">/</span>etc<span class="token operator">/</span>security<span class="token operator">/</span>limits<span class="token punctuation">.</span>conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（6）界面提示使用 root 用户执行如下脚本</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> 桌面<span class="token punctuation">]</span># <span class="token operator">/</span>dm8<span class="token operator">/</span>script<span class="token operator">/</span>root<span class="token operator">/</span>root_installer<span class="token punctuation">.</span>sh
移动 <span class="token operator">/</span>dm8<span class="token operator">/</span>bin<span class="token operator">/</span>dm_svc<span class="token punctuation">.</span>conf 到<span class="token operator">/</span>etc 目录
修改服务器权限
创建 <span class="token class-name">DmAPService</span> 服务
<span class="token class-name">Created</span> symlink <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target<span class="token punctuation">.</span>wants<span class="token operator">/</span><span class="token class-name">DmAPService</span><span class="token punctuation">.</span>service →
<span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span><span class="token class-name">DmAPService</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>
创建服务<span class="token punctuation">(</span><span class="token class-name">DmAPService</span><span class="token punctuation">)</span>完成
启动 <span class="token class-name">DmAPService</span> 服务
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-卸载-dm-数据库" tabindex="-1"><a class="header-anchor" href="#_5-卸载-dm-数据库" aria-hidden="true">#</a> 5 卸载 DM 数据库</h2><p>图形化卸载 DM 数据库 DM 安装目录下执行./uninstall.sh 卸载 DM 数据库：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> dm8<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/uninstall<span class="token punctuation">.</span>sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>界面提示使用 root 用户执行如下脚本</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> 桌面<span class="token punctuation">]</span># <span class="token operator">/</span>dm8<span class="token operator">/</span>root_uninstaller<span class="token punctuation">.</span>sh
删除 <span class="token class-name">DmAPService</span> 服务
<span class="token class-name">Removed</span> <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target<span class="token punctuation">.</span>wants<span class="token operator">/</span><span class="token class-name">DmAPService</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>
删除<span class="token operator">/</span>etc<span class="token operator">/</span>dm_svc<span class="token punctuation">.</span>conf 文件
命令行方式卸载 <span class="token constant">DM</span> 数据库
<span class="token constant">DM</span> 安装目录下执行<span class="token punctuation">.</span>/uninstall<span class="token punctuation">.</span>sh <span class="token operator">-</span>i 卸载 <span class="token constant">DM</span> 数据库：
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> dm8<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/uninstall<span class="token punctuation">.</span>sh <span class="token operator">-</span>i
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="二-创建数据库及数据库实例管理" tabindex="-1"><a class="header-anchor" href="#二-创建数据库及数据库实例管理" aria-hidden="true">#</a> 二 创建数据库及数据库实例管理</h1><h2 id="方式1-dm-数据库配置助手图形化界面方式创建数据库" tabindex="-1"><a class="header-anchor" href="#方式1-dm-数据库配置助手图形化界面方式创建数据库" aria-hidden="true">#</a> 方式1 DM 数据库配置助手图形化界面方式创建数据库</h2><p>（1）运行 <a href="http://dbca.sh" target="_blank" rel="noopener noreferrer">dbca.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 创建数据库</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ cd <span class="token operator">/</span>dm8<span class="token operator">/</span>tool
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> tool<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/dbca<span class="token punctuation">.</span>sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>簇大小 页大小 字符集 大小写敏感 VARCHAR 类型以字符为单位等一旦指定，数据库创建完成将无法更改。页是达梦数据库的最小存储单元，达梦中 varchar 类型长度默认不能大于页大小的一半。 VARCHAR 类型以字符为单位（默认以字节为单位） 以字节为单位： Varchar(10), gb18030 字符集，一个中文占用两个字节，Varchar(10)只能保存五个中文。 Varchar(10), utf-8 字符集，一个中文占用三个字节，Varchar(10)只能保存三个中文。 以字符为单位： Varchar(10),不管什么字符集，Varchar(10)都能保存十个中文。</p><p>（2）界面提示使用 root 用户执行脚本：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> network<span class="token operator">-</span>scripts<span class="token punctuation">]</span># mv <span class="token operator">/</span>dm8<span class="token operator">/</span>bin<span class="token operator">/</span><span class="token class-name">DmServiceDMSERVER</span><span class="token punctuation">.</span>service <span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span><span class="token class-name">DmServiceDMSERVER</span><span class="token punctuation">.</span>service
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> network<span class="token operator">-</span>scripts<span class="token punctuation">]</span># systemctl enable <span class="token class-name">DmServiceDMSERVER</span><span class="token punctuation">.</span>service
<span class="token class-name">Created</span> symlink <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target<span class="token punctuation">.</span>wants<span class="token operator">/</span><span class="token class-name">DmServiceDMSERVER</span><span class="token punctuation">.</span>service →
<span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span><span class="token class-name">DmServiceDMSERVER</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> network<span class="token operator">-</span>scripts<span class="token punctuation">]</span># systemctl start <span class="token class-name">DmServiceDMSERVER</span><span class="token punctuation">.</span>service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="方式2-dminit-命令行创建数据库实例" tabindex="-1"><a class="header-anchor" href="#方式2-dminit-命令行创建数据库实例" aria-hidden="true">#</a> 方式2 dminit 命令行创建数据库实例</h2><p>dminit 创建 DM 数据库 dminit 是 DM 初始化数据库的命令行工具，位于 DM 安装目录 bin 下。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/dminit help
关键字                          说明（默认值）
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token constant">INI_FILE</span>                      初始化文件dm<span class="token punctuation">.</span>ini存放的路径
<span class="token constant">PATH</span>                          初始化数据库存放的路径
<span class="token constant">CTL_PATH</span>                      控制文件路径
<span class="token constant">LOG_PATH</span>                      日志文件路径
<span class="token constant">EXTENT_PATH</span>                   数据文件使用的簇大小（<span class="token number">16</span>），可选值：<span class="token number">16</span>，<span class="token number">32</span>，<span class="token number">64</span>，单位：页
<span class="token constant">PAGE_SIZE</span>                     数据页大小（<span class="token number">8</span>），可选值：<span class="token number">4</span>，<span class="token number">8</span>，<span class="token number">16</span>，<span class="token number">32</span>，单位：<span class="token class-name">K</span>
<span class="token constant">CASE_SENSITIVE</span>                大小敏感（<span class="token class-name">Y</span>），可选值：<span class="token class-name">Y</span><span class="token operator">/</span><span class="token class-name">N</span>，<span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span>
<span class="token constant">CHARSET</span><span class="token operator">/</span><span class="token constant">UNICODE_FLAG</span>          字符集（<span class="token number">0</span>），可选值：<span class="token number">0</span><span class="token punctuation">[</span><span class="token constant">GB18030</span><span class="token punctuation">]</span>，<span class="token number">1</span><span class="token punctuation">[</span><span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">]</span>，<span class="token number">2</span><span class="token punctuation">[</span><span class="token constant">EUC</span><span class="token operator">-</span><span class="token constant">KR</span><span class="token punctuation">]</span>
<span class="token constant">SEC_PRIV_MODE</span>                 权限管理模式（<span class="token number">0</span>），可选值：<span class="token number">0</span><span class="token punctuation">[</span><span class="token constant">TRADITION</span><span class="token punctuation">]</span>，<span class="token number">1</span><span class="token punctuation">[</span><span class="token constant">BMJ</span><span class="token punctuation">]</span>，<span class="token number">2</span><span class="token punctuation">[</span><span class="token constant">EVAL</span><span class="token punctuation">]</span>
<span class="token constant">LENGTH_IN_CHAR</span>                <span class="token constant">VARCHAR</span>类型长度是否以字符为单位（<span class="token class-name">N</span>），可选值：<span class="token class-name">Y</span><span class="token operator">/</span><span class="token class-name">N</span>，<span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span>
<span class="token constant">SYSDBA_PWD</span>                    设置<span class="token constant">SYSDBA</span>密码（<span class="token constant">SYSDBA</span>）
<span class="token constant">SYSAUDITOR_PWD</span>                设置<span class="token constant">SYSAUDITOR</span>密码（<span class="token constant">SYSAUDITOR</span>）
<span class="token constant">DB_NAME</span>                       数据库名（<span class="token constant">DBNAME</span>）
<span class="token constant">INSTANCE_NAME</span>                 实例名（<span class="token constant">DMSERVER</span>）    
<span class="token constant">PORT_NUM</span>                      监听端口号（<span class="token number">5236</span>）
<span class="token constant">BUFFER</span>                        系统缓存大小（<span class="token number">100</span>），单位<span class="token class-name">M</span>
<span class="token constant">TIME_ZONE</span>                     设置时区（<span class="token operator">+</span><span class="token number">08</span><span class="token operator">:</span><span class="token number">00</span>）

<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/dminit path<span class="token operator">=</span><span class="token operator">/</span>dm8<span class="token operator">/</span>data db_name<span class="token operator">=</span><span class="token class-name">DMTEST</span> instance_NAME<span class="token operator">=</span><span class="token class-name">DMTESTSVR</span> sysdba_pwd<span class="token operator">=</span><span class="token class-name">Dameng123</span> port_num<span class="token operator">=</span><span class="token number">5238</span> <span class="token constant">PAGE_SIZE</span><span class="token operator">=</span><span class="token number">16</span>
initdb <span class="token constant">V8</span>
db version<span class="token operator">:</span> <span class="token number">0x7000c</span>
file dm<span class="token punctuation">.</span>key not found<span class="token punctuation">,</span> use <span class="token keyword">default</span> license<span class="token operator">!</span>
<span class="token class-name">License</span> will expire on <span class="token number">2022</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">20</span>
<span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
log file path<span class="token operator">:</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMTEST</span><span class="token operator">/</span><span class="token constant">DMTEST01</span><span class="token punctuation">.</span>log
log file path<span class="token operator">:</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMTEST</span><span class="token operator">/</span><span class="token constant">DMTEST02</span><span class="token punctuation">.</span>log
write <span class="token keyword">to</span> <span class="token namespace">dir</span> <span class="token punctuation">[</span><span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMTEST</span><span class="token punctuation">]</span><span class="token punctuation">.</span>
create dm database success<span class="token punctuation">.</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">56</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>dminit 方式创建数据库不会自动注册数据库服务（DM 数据库配置助手方式默认自动注册数 据库服务），所以不能以服务方式启动数据库，如果要以服务方式启动，则需要注册数据库 服务。</p><h2 id="两种方式注册数据库服务" tabindex="-1"><a class="header-anchor" href="#两种方式注册数据库服务" aria-hidden="true">#</a> 两种方式注册数据库服务：</h2><p>（3.1）DM 数据库配置助手注册数据库服务 执行 <a href="http://dbca.sh" target="_blank" rel="noopener noreferrer">dbca.sh<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 打开 DM 数据库配置助手，选择“注册数据库服务” 界面提示使用 root 用户执行脚本：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span># systemctl enable <span class="token class-name">DmServiceDMTESTSVR</span><span class="token punctuation">.</span>service
<span class="token class-name">Created</span> symlink <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target<span class="token punctuation">.</span>wants<span class="token operator">/</span><span class="token class-name">DmServiceDMTESTSVR</span><span class="token punctuation">.</span>service →
<span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span><span class="token class-name">DmServiceDMTESTSVR</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span># systemctl start <span class="token class-name">DmServiceDMTESTSVR</span><span class="token punctuation">.</span>service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/disql sysdba<span class="token operator">/</span><span class="token class-name">Dameng123</span><span class="token operator">:</span><span class="token number">5238</span>
服务器<span class="token punctuation">[</span><span class="token constant">LOCALHOST</span><span class="token operator">:</span><span class="token number">5238</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">12.</span><span class="token function">397</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select name from v\$database<span class="token punctuation">;</span>
行号 <span class="token constant">NAME</span> 
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1</span> <span class="token constant">DMTEST</span>
已用时间<span class="token operator">:</span> <span class="token number">8.</span><span class="token function">418</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">50600.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select instance_name from v\$instance<span class="token punctuation">;</span>
行号 <span class="token constant">INSTANCE_NAME</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">DMTESTSVR</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">563</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">50601.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（3.2）root 执行注册服务脚本</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA04</span> <span class="token operator">~</span><span class="token punctuation">]</span># cd $<span class="token constant">DM_HOME</span><span class="token operator">/</span>script<span class="token operator">/</span>root
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA03</span> root<span class="token punctuation">]</span># <span class="token punctuation">.</span>/dm_service_installer<span class="token punctuation">.</span>sh <span class="token operator">-</span>t dmserver <span class="token operator">-</span>p <span class="token constant">DMTESTSVR</span> <span class="token operator">-</span>dm_ini <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMTEST</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini
<span class="token class-name">Created</span> symlink <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target<span class="token punctuation">.</span>wants<span class="token operator">/</span><span class="token class-name">DmServiceDMTESTSVR</span><span class="token punctuation">.</span>service →
<span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span><span class="token class-name">DmServiceDMTESTSVR</span><span class="token punctuation">.</span>service<span class="token punctuation">.</span>
创建服务<span class="token punctuation">(</span><span class="token class-name">DmServiceDMTESTSVR</span><span class="token punctuation">)</span>完成
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三-连接及操作数据库" tabindex="-1"><a class="header-anchor" href="#三-连接及操作数据库" aria-hidden="true">#</a> 三 连接及操作数据库</h1><h2 id="_1-连接数据库" tabindex="-1"><a class="header-anchor" href="#_1-连接数据库" aria-hidden="true">#</a> 1 连接数据库</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>如果使用客户端工具连接远端数据库服务器，需要开放数据库服务器防火墙对应端口（开放
端口后需 reload）：
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span># firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>add<span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">5236</span><span class="token operator">/</span>tcp <span class="token operator">--</span>permanent <span class="token operator">--</span>zone<span class="token operator">=</span><span class="token keyword">public</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span># firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>reload
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span># firewall<span class="token operator">-</span>cmd <span class="token operator">--</span>list<span class="token operator">-</span>ports
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以关闭数据库服务器的防火墙</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> dm<span class="token punctuation">]</span># systemctl status firewalld
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@localhost</span> dm<span class="token punctuation">]</span># systemctl stop firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方式一-dm-管理工具图形化界面连接数据库" tabindex="-1"><a class="header-anchor" href="#方式一-dm-管理工具图形化界面连接数据库" aria-hidden="true">#</a> 方式一 DM 管理工具图形化界面连接数据库</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ cd $<span class="token constant">DM_HOME</span><span class="token operator">/</span>tool
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> tool<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="方式二-disql-命令行方式连接数据库" tabindex="-1"><a class="header-anchor" href="#方式二-disql-命令行方式连接数据库" aria-hidden="true">#</a> 方式二 disql 命令行方式连接数据库</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ cd <span class="token operator">/</span>dm8<span class="token operator">/</span>bin
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/disql sysdba<span class="token operator">/</span><span class="token class-name">Dameng123</span><span class="token operator">:</span><span class="token number">5236</span>
服务器<span class="token punctuation">[</span><span class="token constant">LOCALHOST</span><span class="token operator">:</span><span class="token number">5236</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">1.</span><span class="token function">829</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select name from v\$database<span class="token punctuation">;</span>
行号 <span class="token constant">NAME</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1</span> <span class="token constant">DM</span>
已用时间<span class="token operator">:</span> <span class="token number">2.</span><span class="token function">913</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">51600.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select instance_name from v\$instance<span class="token punctuation">;</span>
<span class="token number">26</span> <span class="token operator">/</span> <span class="token number">118</span>
行号 <span class="token constant">INSTANCE_NAME</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">DMSERVER</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">434</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">51601.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> exit
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/disql sysdba<span class="token operator">/</span><span class="token class-name">Dameng123</span><span class="token operator">:</span><span class="token number">5238</span>
服务器<span class="token punctuation">[</span><span class="token constant">LOCALHOST</span><span class="token operator">:</span><span class="token number">5238</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">12.</span><span class="token function">397</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select name from v\$database<span class="token punctuation">;</span>
行号 <span class="token constant">NAME</span> 
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1</span> <span class="token constant">DMTEST</span>
已用时间<span class="token operator">:</span> <span class="token number">8.</span><span class="token function">418</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">50600.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select instance_name from v\$instance<span class="token punctuation">;</span>
行号 <span class="token constant">INSTANCE_NAME</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">DMTESTSVR</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">563</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">50601.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="网络配置助手配置连接串" tabindex="-1"><a class="header-anchor" href="#网络配置助手配置连接串" aria-hidden="true">#</a> 网络配置助手配置连接串</h3><p>网络配置助手</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA04</span> tool<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/nca<span class="token punctuation">.</span>sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>网络配置助手实际写的是 dm_svc.conf 文件，也可以直接手工编辑该文件。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> tool<span class="token punctuation">]</span>$ cat <span class="token operator">/</span>etc<span class="token operator">/</span>dm_svc<span class="token punctuation">.</span>conf
<span class="token constant">TIME_ZONE</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">480</span><span class="token punctuation">)</span>
<span class="token constant">LANGUAGE</span><span class="token operator">=</span><span class="token punctuation">(</span>cn<span class="token punctuation">)</span>
<span class="token constant">DM</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">5236</span><span class="token punctuation">)</span>
<span class="token constant">DMTEST</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">5238</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dm-数据库" tabindex="-1"><a class="header-anchor" href="#dm-数据库" aria-hidden="true">#</a> DM 数据库</h3><p>DM 数据库启动顺序：读取配置参数文件 dm.ini,找到控制文件 dm.ctl，启动后台进程和线程，启动数据库实例，启动到mount 状态，根据控制文件中的数据文件路径和练级日志文件路径，找到并打开数据文件和联机日志，启动到 OPEN 状态。 Oracle 启动顺序：nomount-&gt;mount-&gt;open Shutdown：关闭状态 Mount：配置状态，此时可以修改数据库归档配置 主备等模式，不能进行数据文件的读写。此时数据库不能对外正常提供务。 Open：打开状态，此时数据库提供正常的服务。可以读写数据文件。正常访问表，读取数据。 Suspend：只读状态，只能读，不能写（DML 操作一旦 commit，数据库即会被挂起）。 MOUNT 和 OPEN 可以相互转换（与 Oracle 不同）。SUSPEND 和 OPEN 也可以相互转换。 但 MOUNT 和 SUSPEND 之间不能相互转换。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">SQL</span><span class="token operator">&gt;</span> select status$ from v\$instance<span class="token punctuation">;</span>
行号 <span class="token constant">STATUS</span>$
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">OPEN</span>
已用时间<span class="token operator">:</span> <span class="token number">4.</span><span class="token function">453</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">52100.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database mount<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">371.</span><span class="token function">497</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select status$ from v\$instance<span class="token punctuation">;</span>
行号 <span class="token constant">STATUS</span>$
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">MOUNT</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">599</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">52101.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database <span class="token keyword">open</span><span class="token punctuation">;</span>
<span class="token number">29</span> <span class="token operator">/</span> <span class="token number">118</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">333.</span><span class="token function">412</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select status$ from v\$instance<span class="token punctuation">;</span>
行号 <span class="token constant">STATUS</span>$
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">OPEN</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">463</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">52102.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database suspend<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">102.</span><span class="token function">752</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select status$ from v\$instance<span class="token punctuation">;</span>
行号 <span class="token constant">STATUS</span>$
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">SUSPEND</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">514</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">52103.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>MOUNT 状态下，可以配置归档，设置主备模式，修改联机日志文件路径等，MOUNT 状态下不能读写数据（但可以读动态性能视图中的数据，因为动态视图数据来源于控制文件或内存中的，比如 v$datafile v$database 等），MOUNT 状态数据库不能对外提供服务（不能读写数据，业务中断）</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ disql sysdba<span class="token operator">/</span><span class="token constant">SYSDBA</span><span class="token annotation punctuation">@OA</span>
服务器<span class="token punctuation">[</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">5236</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">1.</span><span class="token function">744</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database mount<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">9.</span><span class="token function">672</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select <span class="token operator">*</span> from t_test<span class="token punctuation">;</span>
select <span class="token operator">*</span> from t_test<span class="token punctuation">;</span>
第 <span class="token number">1</span> 行附近出现错误<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">510</span><span class="token punctuation">]</span><span class="token operator">:</span>系统处于 <span class="token constant">MOUNT</span> 状态<span class="token punctuation">.</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">587</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> insert into <span class="token function">t_test</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
insert into <span class="token function">t_test</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">510</span><span class="token punctuation">]</span><span class="token operator">:</span>系统处于 <span class="token constant">MOUNT</span> 状态<span class="token punctuation">.</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">403</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select name<span class="token punctuation">,</span> status$ from v\$instance<span class="token punctuation">;</span>
行号 <span class="token constant">NAME</span> <span class="token constant">STATUS</span>$
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">DMOASERVER</span> <span class="token constant">MOUNT</span>
已用时间<span class="token operator">:</span> <span class="token number">3.</span><span class="token function">317</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">2700.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select name<span class="token punctuation">,</span> status$ from v\$database<span class="token punctuation">;</span>
行号 <span class="token constant">NAME</span> <span class="token constant">STATUS</span>$
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token constant">DMOA</span> <span class="token number">3</span>
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">347</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">2701.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select path from v\$datafile<span class="token punctuation">;</span>
行号 <span class="token constant">PATH</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMOA</span><span class="token operator">/</span><span class="token constant">SYSTEM</span><span class="token punctuation">.</span><span class="token constant">DBF</span>
<span class="token number">2</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMOA</span><span class="token operator">/</span><span class="token constant">ROLL</span><span class="token punctuation">.</span><span class="token constant">DBF</span>
<span class="token number">3</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMOA</span><span class="token operator">/</span><span class="token constant">TEMP</span><span class="token punctuation">.</span><span class="token constant">DBF</span>
<span class="token number">4</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMOA</span><span class="token operator">/</span><span class="token constant">MAIN</span><span class="token punctuation">.</span><span class="token constant">DBF</span>
<span class="token number">5</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMOA</span><span class="token operator">/</span><span class="token constant">DMHR</span><span class="token punctuation">.</span><span class="token constant">DBF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="三-dm-数据库启动方式" tabindex="-1"><a class="header-anchor" href="#三-dm-数据库启动方式" aria-hidden="true">#</a> 三 DM 数据库启动方式：</h1><h2 id="root-启动" tabindex="-1"><a class="header-anchor" href="#root-启动" aria-hidden="true">#</a> Root 启动：</h2><p>（1） systemctl 服务方式管理（CentOS6 使用 service 命令）</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>systemctl start<span class="token operator">|</span>status<span class="token operator">|</span>stop<span class="token operator">|</span>enable<span class="token operator">|</span>disable <span class="token class-name">DmServiceDMSERVER</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>（2） DM 服务查看器管理（以 root 方式打开才有启动的权限）</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>root<span class="token annotation punctuation">@KylinDCA04</span> tool<span class="token punctuation">]</span># <span class="token punctuation">.</span>/dmservice<span class="token punctuation">.</span>sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="dmdba-用户启动" tabindex="-1"><a class="header-anchor" href="#dmdba-用户启动" aria-hidden="true">#</a> dmdba 用户启动</h2><p>两种启动方式，都可以将数据库启动到 mount 状态）： （1） 前台启动方式（dmserver） 如果没有注册数据库服务，只能使用此方式启动。其他的启动方式都需要注册数据库服务。 前台启动方式，界面输入 exit 或者按 CTRL+C 即会关闭数据库；</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/dmserver <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMTEST</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini
file dm<span class="token punctuation">.</span>key not found<span class="token punctuation">,</span> use <span class="token keyword">default</span> license<span class="token operator">!</span>
version info<span class="token operator">:</span> develop
<span class="token constant">DM</span> <span class="token class-name">Database</span> <span class="token class-name">Server</span> x64 <span class="token constant">V8</span> <span class="token number">4</span><span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">18</span><span class="token operator">-</span><span class="token number">21.08</span><span class="token number">.20</span><span class="token operator">-</span><span class="token number">146029</span><span class="token operator">-</span><span class="token number">10013</span><span class="token operator">-</span><span class="token constant">ENT</span> startup<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
<span class="token class-name">Database</span> mode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oguid <span class="token operator">=</span> <span class="token number">0</span>
<span class="token class-name">License</span> will expire on <span class="token number">2022</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">20</span>
file lsn<span class="token operator">:</span> <span class="token number">28292</span>
ndct db load finished
ndct fill fast pool finished
iid page&#39;s trxid<span class="token punctuation">[</span><span class="token number">6012</span><span class="token punctuation">]</span>
<span class="token constant">NEXT</span> <span class="token class-name">TRX</span> <span class="token constant">ID</span> <span class="token operator">=</span> <span class="token number">6013</span>
pseg_collect_mgr_items<span class="token punctuation">,</span> total collect <span class="token number">0</span> active_trxs<span class="token punctuation">,</span> <span class="token number">0</span> cmt_trxs<span class="token punctuation">,</span> <span class="token number">0</span> pre_cmt_trxs<span class="token punctuation">,</span> <span class="token number">0</span> active_pages<span class="token punctuation">,</span> <span class="token number">0</span> 
cmt_pages<span class="token punctuation">,</span> <span class="token number">0</span> pre_cmt_pages<span class="token punctuation">,</span> <span class="token number">0</span> mgr pages<span class="token punctuation">,</span> <span class="token number">0</span> mgr recs<span class="token operator">!</span>
total <span class="token number">0</span> active crash trx<span class="token punctuation">,</span> pseg_crash_trx_rollback <span class="token function">sys_only</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> begin <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
pseg_crash_trx_rollback end<span class="token punctuation">,</span> total <span class="token number">0</span> active crash trx<span class="token punctuation">,</span> include <span class="token number">0</span> empty_trxs<span class="token punctuation">,</span> <span class="token number">0</span> empty_pages which 
only need <span class="token keyword">to</span> <span class="token namespace">delete</span> mgr recs<span class="token punctuation">.</span>
pseg_crash_trx_rollback end
pseg recv finished
nsvr_startup end<span class="token punctuation">.</span>
aud sys init success<span class="token punctuation">.</span>
aud rt sys init success<span class="token punctuation">.</span>
systables desc init success<span class="token punctuation">.</span>
ndct_db_load_info success<span class="token punctuation">.</span>
nsvr_process_before_open begin<span class="token punctuation">.</span>
nsvr_process_before_open success<span class="token punctuation">.</span>
total <span class="token number">0</span> active crash trx<span class="token punctuation">,</span> pseg_crash_trx_rollback <span class="token function">sys_only</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> begin <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
pseg_crash_trx_rollback end<span class="token punctuation">,</span> total <span class="token number">0</span> active crash trx<span class="token punctuation">,</span> include <span class="token number">0</span> empty_trxs<span class="token punctuation">,</span> <span class="token number">0</span> empty_pages which 
only need <span class="token keyword">to</span> <span class="token namespace">delete</span> mgr recs<span class="token punctuation">.</span>
pseg_crash_trx_rollback end
<span class="token constant">SYSTEM</span> <span class="token constant">IS</span> <span class="token constant">READY</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（2）后台启动方式（DmServiceDMSERVER）</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ cd <span class="token operator">/</span>dm8<span class="token operator">/</span>bin
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ ll <span class="token class-name">Dm</span><span class="token operator">*</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> dmdba dinstall <span class="token number">13827</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">33</span> <span class="token class-name">DmAPService</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> dmdba dinstall <span class="token number">14850</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">33</span> <span class="token class-name">DmAuditMonitorService</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> dmdba dinstall <span class="token number">13655</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">33</span> <span class="token class-name">DmInstanceMonitorService</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> dmdba dinstall <span class="token number">14110</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">33</span> <span class="token class-name">DmJobMonitorService</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> dmdba dinstall <span class="token number">16117</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">19</span><span class="token operator">:</span><span class="token number">53</span> <span class="token class-name">DmServiceDMSERVER</span>
<span class="token operator">-</span>rwxr<span class="token operator">-</span>xr<span class="token operator">-</span>x <span class="token number">1</span> dmdba dinstall <span class="token number">16122</span> <span class="token number">12</span> 月 <span class="token number">20</span> <span class="token number">21</span><span class="token operator">:</span><span class="token number">56</span> <span class="token class-name">DmServiceDMTESTSVR</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/<span class="token class-name">DmServiceDMTESTSVR</span> start
<span class="token class-name">Starting</span> <span class="token class-name">DmServiceDMTESTSVR</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token constant">OK</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/<span class="token class-name">DmServiceDMTESTSVR</span> stop
<span class="token class-name">Stopping</span> <span class="token class-name">DmServiceDMTESTSVR</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token constant">OK</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/<span class="token class-name">DmServiceDMTESTSVR</span> start mount
<span class="token class-name">Starting</span> <span class="token class-name">DmServiceDMTESTSVR</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token constant">OK</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/<span class="token class-name">DmServiceDMTESTSVR</span> status
<span class="token class-name">DmServiceDMTESTSVR</span> <span class="token punctuation">(</span>pid <span class="token number">35387</span><span class="token punctuation">)</span> is running<span class="token punctuation">.</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> bin<span class="token punctuation">]</span>$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="四-dm-的客户端工具" tabindex="-1"><a class="header-anchor" href="#四-dm-的客户端工具" aria-hidden="true">#</a> 四 DM 的客户端工具</h1><h2 id="dm-管理工具-manager" tabindex="-1"><a class="header-anchor" href="#dm-管理工具-manager" aria-hidden="true">#</a> DM 管理工具（manager）</h2><p>图形化管理数据库，联机工具，包含用户管理 角色权限管理 表空间 模式 模式下对象（表 索引 约束 函数 过程 视图等) 数据库物理联机备份 作业管理等功能</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> tool<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="dm-控制台工具-console" tabindex="-1"><a class="header-anchor" href="#dm-控制台工具-console" aria-hidden="true">#</a> DM 控制台工具（console）</h2><p>DM 控制台工具是一个脱机工具，提供脱机备份还原 修改数据库参数（修改后重启数据库才能生效）等功能。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> tool<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/console
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="dm-数据迁移工具-dts" tabindex="-1"><a class="header-anchor" href="#dm-数据迁移工具-dts" aria-hidden="true">#</a> DM 数据迁移工具（dts）</h2><p>DM 数据迁移工具支持其他数据库迁移到达梦，或者达梦迁移到文件等功能。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> tool<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/dts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="dm-性能监视工具-monitor" tabindex="-1"><a class="header-anchor" href="#dm-性能监视工具-monitor" aria-hidden="true">#</a> DM 性能监视工具（monitor）：</h2><p>可以用来监视数据库的线程 事务会话 表空间占用等信息。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> tool<span class="token punctuation">]</span>$ <span class="token punctuation">.</span>/monitor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="五-dm体系结构" tabindex="-1"><a class="header-anchor" href="#五-dm体系结构" aria-hidden="true">#</a> 五 DM体系结构</h1><h2 id="dm8-数据库是由数据库和实例构成" tabindex="-1"><a class="header-anchor" href="#dm8-数据库是由数据库和实例构成" aria-hidden="true">#</a> DM8 数据库是由数据库和实例构成</h2><h3 id="数据库" tabindex="-1"><a class="header-anchor" href="#数据库" aria-hidden="true">#</a> 数据库：</h3><p>DM 数据库指的是磁盘上存放在 DM 数据库中的数据的集合</p><h3 id="实例" tabindex="-1"><a class="header-anchor" href="#实例" aria-hidden="true">#</a> 实例：</h3><p>实例一般是由一组正在运行的 DM 后台进程/线程以及一个大型的共享内存组成 <img src="/blog-vue/assets/images/dm1.png" alt="img" loading="lazy"></p><h2 id="dm-存储结构" tabindex="-1"><a class="header-anchor" href="#dm-存储结构" aria-hidden="true">#</a> DM 存储结构</h2><p><img src="/blog-vue/assets/images/dm2.png" alt="img" loading="lazy"> 表空间是 DM 数据库的最大存储单元，所有数据都存储在表空间中。 表空间采用段（segment） 簇（extent）和页（page，对应 block）的方式管理。 一个表空间可以包含一个或多个数据文件。一个数据文件仅能归属于一个表空间。 DM 物理文件包含：配置文件 控制文件 数据文件 联机日志（此四个文件必不可少，缺少一个将无法正常启动）。 配置文件包括（服务配置 dm.ini，守护配置，复制配置，审计配置） 控制文件，数据文件，重做日志文件，备份文件，归档日志文件，跟踪日志文件等 <img src="/blog-vue/assets/images/dm3.png" alt="img" loading="lazy"></p><h2 id="dm-数据库参数的类型" tabindex="-1"><a class="header-anchor" href="#dm-数据库参数的类型" aria-hidden="true">#</a> DM 数据库参数的类型：</h2><p>READ ONLY：手动参数，不能通过 SQL 命令或函数修改；只能通过修改 dm.ini 文本文件修改此参数（需要重启数据库才能生效）。 SYS：动态（系统级）参数。数据库运行中可以直接修改，可以即可以修改内存中的值，也可以修改参数文件中的值。可以通过 SQL 命令或系统函数修改。 SESSION:动态（会话级）参数，数据库运行中可以直接修改，可以即可以修改内存中的值，也可以修改参数文件中的值，还可以只修改当前会话的值。可以通过 SQL 命令或函数修改，且可以只针对当前会话生效。 IN FILE：静态参数，不能修改内存中的值，只能修改参数文件中的值，可以通过 SQL 命令或函数修改，但需要重启数据库才能生效。 静态参数在数据库运行期间不能修改内存中的值，动态参数在数据库运行期间可以修改内存中的值（修改后立即生效）。</p><h2 id="运行时的内存池" tabindex="-1"><a class="header-anchor" href="#运行时的内存池" aria-hidden="true">#</a> 运行时的内存池：</h2><p>特点：使用时申请，用完即释放。包含：虚拟内存池 vm pool 会话池 session pool 排序区 HASH 区等。 排序区和 HASH 区 排序区：SORT_BUF_SIZE 少量的数据排序，优先在内存中排序，此时占用排序区； 大量的数据排序，内存中放不下，占用临时表空间排序。 如果业务经常有排序，可以适当调大排序区，提高效率。 HASH 区：HJ_BUF_SIZE HASH 连接 HASH 分区占用哈希区。如果业务 hash 连接较多，可以调大哈希区。</p><h2 id="dm-线程" tabindex="-1"><a class="header-anchor" href="#dm-线程" aria-hidden="true">#</a> DM 线程</h2><p>DM 是单进程多线程对称服务器架构。Oracle 是多进程架构。</p><h3 id="监听线程" tabindex="-1"><a class="header-anchor" href="#监听线程" aria-hidden="true">#</a> 监听线程</h3><p>用于在服务器端口上进行循环监听，有来自客户的连接请求，监听线程被唤醒并生成一个会话线程，将申请的任务加入工作线程的任务队列，等待工作线程进行处理。 会话线程 dm_sql_thd 每个会话 session 对应一个会话线程，会话多时该线程会多，会话对应的线程 id 可以在 v$sessions 中查询。</p><h3 id="工作线程" tabindex="-1"><a class="header-anchor" href="#工作线程" aria-hidden="true">#</a> 工作线程</h3><p>DM 的核心线程；默认 16 个工作线程。</p><h3 id="io-线程" tabindex="-1"><a class="header-anchor" href="#io-线程" aria-hidden="true">#</a> IO 线程</h3><p>用于读写数据 需要处理的数据块不在缓冲区中，此时需要将相关数据块读入缓冲区 -物理读 缓冲区满或系统关闭时，此时需要将部分脏数据块写入磁盘 -写脏块 检查点到来时，需要将所有脏数据块写入磁盘</p><h3 id="日志刷新线程" tabindex="-1"><a class="header-anchor" href="#日志刷新线程" aria-hidden="true">#</a> 日志刷新线程</h3><p>日志的刷盘。主要用于事务提交或检查点时将日志缓冲区中的 REDO 日志写入到日志文 件中。</p><h3 id="日志归档线程" tabindex="-1"><a class="header-anchor" href="#日志归档线程" aria-hidden="true">#</a> 日志归档线程</h3><p>完成 redo 日志的归档。</p><h3 id="日志重做线程" tabindex="-1"><a class="header-anchor" href="#日志重做线程" aria-hidden="true">#</a> 日志重做线程</h3><p>主要用于系统故障恢复，日志重做线程根据 REDO 日志进行并行的故障恢复</p><h3 id="调度线程" tabindex="-1"><a class="header-anchor" href="#调度线程" aria-hidden="true">#</a> 调度线程</h3><p>用于定时调度任务。 检查系统级的时间触发器； 清理 SQL 缓存 计划缓存中失效的项，或者超出缓存限制后淘汰不常用的缓存项； 动态缓冲区检查。根据需要动态扩展或动态收缩系统缓冲池； 自动执行检查点; 会话超时检测; 必要时执行数据更新页刷盘； 唤醒等待的工作线程;</p><h1 id="六-一个-sql-的执行" tabindex="-1"><a class="header-anchor" href="#六-一个-sql-的执行" aria-hidden="true">#</a> 六 一个 sql 的执行</h1><p>当客户端发起请求，首先到达监听线程，监听线程创建一个会话线程，将任务加入工作线程队列。 Sql 语法语义权限解析（字典缓冲区，语法语义校验，权限校验）： 首先在 sql 缓冲区中查找是否有对应的 sql 语句，如果找到，再查找对应的执行计划，找到执行计划，根据执行计划执行 sql，这个过程称为软解析；如果 sql 缓冲区中没有找到对应 sql 语句，会将该sql 语句加入 sql 缓冲区，并生成对应执行计划，执行计划放入 sql 缓冲区，根据执行计划执行 sql 语句，返回结果集，这个过程称为硬解析）。 从系统性能提升来说，要减少硬解析。查询（读数据，数据缓冲区，如果数据缓冲区中存在数据页，则直接从数据缓冲区中读取数据，称为逻辑读；如果数据缓冲区中不存在该数据页，会话线程调用 IO 线程，IO 线程从磁盘上的数据文件中读取数据页并放入到数据缓冲区，称为物理读。 从系统性能考虑，应减少物理读，提高逻辑读）,如果查询涉及 HASH 连接等，会占用 HASH 区，如果涉及到排序，少量的数据排序（内存中能排下的）则占用排序区，HASH 区和排序区以会话池或虚拟池的方式申请。 修改（将数据读入数据缓冲区，此过程同上，在数据缓冲区中修改，修改会产生 redo 和 undo，redo 放在日志缓冲区中，undo 写入回滚段； 修改完成后，执行 commit，日志刷新线程将日志缓冲区中的数据写入联机日志文件；当数据库执行检查点时，IO 线程会将脏页写入磁盘数据文件。</p><h1 id="七-表空间管理" tabindex="-1"><a class="header-anchor" href="#七-表空间管理" aria-hidden="true">#</a> 七 表空间管理</h1><h2 id="管理表空间" tabindex="-1"><a class="header-anchor" href="#管理表空间" aria-hidden="true">#</a> 管理表空间</h2><p>表空间是 DM 数据库的最大逻辑存储单元，表中的数据在逻辑上都是存放在表空间中，在物理上存放在表空间对应的物理数据文件。表空间由数据文件组成，表空间采用段 簇 页的方式进行管理。 DM 默认预定义 SYSTEM ROLL MAIN TEMP HMAIN 五个表空间。 SYSTEM：系统表空间，存放数据字典等信息（表 字段 视图等对象的定义 用户角色权限信息等，部分隐含参数写入SYSTEM 表空间），SYSTEM 表空间自动扩展不允许关闭。 ROLL：回滚表空间，存放回滚页，数据库中的 DML 操作对应都会生成 redo 和 undo，undo 信息放入 ROLL 表空间对应的数据文件中，redo 信息写入联机日志文件，用于保证数据的一致性。 ROLL 回滚段数据包含 Active unexpired expired 三种状态。 遇到查询记录过旧的错误（等同于 oracle 的快照过旧的错误）。解决方法： 1 增大 undo_retention（回滚段的保留时长）, 及时 分段提交。扩大 ROLL 表空间。 2 查询时间过长导致，可以考虑优化查询。 MAIN：用户默认表空间，当创建用户时，如果为指定用户的默认表空间，则 MAIN 为用户的默认表空间。相当于 Oracle 的 USERS 表空间。 TEMP：临时表空间，存放临时表数据 临时结果集等，当大量的数据排序或创建索引等占用临时表空间。DM 中临时表空间由参数 TEMP_SIZE 指定。</p><h2 id="修改tmp表空间" tabindex="-1"><a class="header-anchor" href="#修改tmp表空间" aria-hidden="true">#</a> 修改TMP表空间</h2><p>数据库启动时会按照如下参数重建 TEMP 表空间。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> type from v\$parameter t where name like <span class="token char">&#39;TEMP%&#39;</span><span class="token punctuation">;</span>
# <span class="token constant">TEMP_SIZE</span>：临时表空间初始大小
# <span class="token constant">TEMP_PATH</span><span class="token operator">:</span> 临时表空间路径
# <span class="token constant">TEMP_SPACE_LIMIT</span>：临时表空间的空间限制，<span class="token number">0</span> 表示不限制。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改临时表空间的初始大小：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code># alter system set &#39;<span class="token constant">TEMP_SIZE</span>&#39;<span class="token operator">=</span><span class="token number">100</span> spfile<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>收缩 TEMP 表空间的方法： 1 重启数据库，TEMP 表空间数据文件会重建。 2 在线收缩临时表空间使用 SP_TRUNC_TS_FILE 函数。</p><h2 id="创建表空间" tabindex="-1"><a class="header-anchor" href="#创建表空间" aria-hidden="true">#</a> 创建表空间</h2><p>使用 create tablespace 语句创建表空间：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>create tablespace tbs <span class="token constant">DATAFILE</span> &#39;<span class="token constant">TBS01</span><span class="token punctuation">.</span><span class="token constant">DBF</span>&#39; size <span class="token number">32</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>DM 数据文件大小，最大值不能低于页大小的 4096 倍（如果页大小是 8K，最小值将不 低于 32M），最大值为页大小的 2 的 31 次方-1（如果页大小是 8K，最大值为 16T-1）。</p><h2 id="表空间重命名" tabindex="-1"><a class="header-anchor" href="#表空间重命名" aria-hidden="true">#</a> 表空间重命名</h2><p>DM 预定义表空间不支持重命名，自定义表空间支持重命名。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>alter tablespace tbs <span class="token constant">RENAME</span> <span class="token class-name">TO</span> dmtbs<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="八-归档管理" tabindex="-1"><a class="header-anchor" href="#八-归档管理" aria-hidden="true">#</a> 八 归档管理</h1><h2 id="归档管理" tabindex="-1"><a class="header-anchor" href="#归档管理" aria-hidden="true">#</a> 归档管理</h2><p>默认情况下，达梦数据库运行在非归档模式下。 归档是对 REDO 日志的归档。归档的目的是使数据库故障时可以恢复到故障的前一刻（完 全恢复），或者恢复到指定的时间点或指定 LSN（Log Sequence Number）（不完全恢复）。 假如现网每天凌晨 0 点备份； 第二天下午 14：00 数据磁盘损坏，数据库故障。 故障时联机日志中只有 13：30-14：00；此时如果没有开启数据库归档，则数据库无法恢复 到故障前一刻 14：00（缺失凌晨 0 点-13：30 的 redo 信息）。 开归档就可以将凌晨 0 点-14：00 的 redo 信息保存在归档日志文件中，数据库恢复时就可以 利用归档将数据库恢复到最新的状态。 联机备份，数据库需要开启归档状态。 利用归档可以做完全恢复和不完全恢复。</p><h2 id="sql-开启归档" tabindex="-1"><a class="header-anchor" href="#sql-开启归档" aria-hidden="true">#</a> SQL 开启归档</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>归档开启：
alter database mount<span class="token punctuation">;</span>
alter database <span class="token constant">ARCHIVELOG</span><span class="token punctuation">;</span>
alter database <span class="token constant">ADD</span> <span class="token constant">ARCHIVELOG</span> &#39;type<span class="token operator">=</span>local<span class="token punctuation">,</span> dest<span class="token operator">=</span><span class="token operator">/</span>dm8<span class="token operator">/</span>arch<span class="token punctuation">,</span> file_size<span class="token operator">=</span><span class="token number">64</span><span class="token punctuation">,</span> 
space_limit<span class="token operator">=</span><span class="token number">10240</span>&#39;<span class="token punctuation">;</span>
alter database <span class="token keyword">open</span><span class="token punctuation">;</span>
查看归档配置：
select arch_mode from v\$database<span class="token punctuation">;</span>
select <span class="token operator">*</span> from v\$dm_arch_ini<span class="token punctuation">;</span>
修改归档的配置（修改归档空间上限）：
alter database modify archivelog &#39;type<span class="token operator">=</span>local<span class="token punctuation">,</span> dest<span class="token operator">=</span><span class="token operator">/</span>dm8<span class="token operator">/</span>arch<span class="token punctuation">,</span> <span class="token constant">SPACE_LIMIT</span><span class="token operator">=</span><span class="token number">20480</span>&#39;<span class="token punctuation">;</span>
<span class="token constant">SQL</span> 关闭归档
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database mount<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">438.</span><span class="token function">355</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database noarchivelog<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">41.</span><span class="token function">445</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database delete archivelog &#39;type<span class="token operator">=</span>local<span class="token punctuation">,</span>dest<span class="token operator">=</span><span class="token operator">/</span>dm8<span class="token operator">/</span>arch&#39;<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">519</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter database <span class="token keyword">open</span><span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">322.</span><span class="token function">559</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">0.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select arch_mode from v\$database<span class="token punctuation">;</span>
行号 <span class="token constant">ARCH_MODE</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1</span> <span class="token class-name">N</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">654</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">714.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select <span class="token operator">*</span> from v\$dm_arch_ini<span class="token punctuation">;</span>
未选定行
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改-dm-ini-和-dmarch-ini-配置文件开启归档" tabindex="-1"><a class="header-anchor" href="#修改-dm-ini-和-dmarch-ini-配置文件开启归档" aria-hidden="true">#</a> 修改 dm.ini 和 dmarch.ini 配置文件开启归档</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token constant">DM</span><span class="token punctuation">]</span>$ cat dmarch<span class="token punctuation">.</span>ini
#<span class="token class-name">DaMeng</span> <span class="token class-name">Database</span> <span class="token class-name">Archive</span> <span class="token class-name">Configuration</span> file
#<span class="token keyword">this</span> is comments
 <span class="token constant">ARCH_WAIT_APPLY</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span><span class="token constant">ARCHIVE_LOCAL1</span><span class="token punctuation">]</span>
 <span class="token constant">ARCH_TYPE</span> <span class="token operator">=</span> <span class="token class-name">LOCAL</span>
 <span class="token constant">ARCH_DEST</span> <span class="token operator">=</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>arch
 <span class="token constant">ARCH_FILE_SIZE</span> <span class="token operator">=</span> <span class="token number">64</span>
 <span class="token constant">ARCH_SPACE_LIMIT</span> <span class="token operator">=</span> <span class="token number">10240</span>
 <span class="token constant">ARCH_FLUSH_BUF_SIZE</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token constant">DM</span><span class="token punctuation">]</span>$ cat dm<span class="token punctuation">.</span>ini<span class="token operator">|</span>grep <span class="token class-name">ARCH_INI</span>
 <span class="token constant">ARCH_INI</span> <span class="token operator">=</span> <span class="token number">1</span> #dmarch<span class="token punctuation">.</span>ini
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="归档日志文件的切换和删除" tabindex="-1"><a class="header-anchor" href="#归档日志文件的切换和删除" aria-hidden="true">#</a> 归档日志文件的切换和删除</h2><p>数据库自动完成归档的切换，DM 支持手工切换归档；</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>alter <span class="token constant">SYSTEM</span> <span class="token constant">ARCHIVE</span> <span class="token class-name">LOG</span> <span class="token constant">CURRENT</span><span class="token punctuation">;</span>
alter <span class="token constant">SYSTEM</span> <span class="token class-name">SWITCH</span> <span class="token constant">LOGFILE</span><span class="token punctuation">;</span>
alter <span class="token constant">DATABASE</span> <span class="token class-name">ARCHIVELOG</span> <span class="token constant">CURRENT</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="归档文件的删除" tabindex="-1"><a class="header-anchor" href="#归档文件的删除" aria-hidden="true">#</a> 归档文件的删除</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from v\$ifun t where name like &#39;<span class="token constant">SF_ARCHIVELOG_</span><span class="token operator">%</span>&#39;<span class="token punctuation">;</span>
<span class="token constant">SF_ARCHIVELOG_DELETE_BEFORE_LSN</span>
<span class="token constant">SF_ARCHIVELOG_DELETE_BEFORE_TIME</span>
# 删除<span class="token number">10</span>天前的归档日志。
<span class="token class-name">Select</span> <span class="token function">SF_ARCHIVELOG_DELETE_BEFORE_TIME</span><span class="token punctuation">(</span>sysdate<span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>针对业务繁忙期间，出现磁盘 IO 不定时繁忙的情况，因为配置了归档的空间上限（归档达 到此上限），生成新的归档日志前删除旧的归档日志文件造成了 IO 的不定时繁忙。 解决方案：配置 JOB 作业，在业务空间期定时清理 N 天之前的归档文件。</p><h1 id="九-用户管理" tabindex="-1"><a class="header-anchor" href="#九-用户管理" aria-hidden="true">#</a> 九 用户管理</h1><h2 id="用户类型" tabindex="-1"><a class="header-anchor" href="#用户类型" aria-hidden="true">#</a> 用户类型</h2><p>DM 默认的预定义用户： SYS：系统内置用户，不允许登录。 SYSDBA：系统管理员，拥有几乎所有权限（除审计和强制访问控制） SYSAUDITOR：系统审计管理员，具有审计相关权限。 SYSSSO：系统安全管理员，具有强制访问控制等权限； SYSDBO：安全版本才有的用户，安全操作员。</p><h2 id="系统口令策略" tabindex="-1"><a class="header-anchor" href="#系统口令策略" aria-hidden="true">#</a> 系统口令策略</h2><p>PWD_POLICY（隐含参数，不在 dm.ini 中）参数指定系统的口令策略，默认为 2； 系统支持的口令策略有： 0 无策略 1 禁止与用户名相同 2 口令长度需大于等于 INI 参数 PWD_MIN_LEN 设置的值 4 至少包含一个大写字母（A-Z） 8 至少包含一个数字（0-9） 16 至少包含一个标点符号（英文输入法状态下，除“和空格外的所有符号） 口令策略可单独应用，也可组合应用。组合应用时，如需要应用策略 2 和 4，则设置口 令策略为 2+4=6 即可。 PWD_POLICY 是隐含参数，PWD_POLICY，只能通过函数或 SQL 语句修改。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from v\$parameter t where t<span class="token punctuation">.</span>name <span class="token operator">=</span> &#39;<span class="token constant">PWD_POLICY</span>&#39;<span class="token punctuation">;</span>
create user hr <span class="token constant">IDENTIFIED</span> by dameng123<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改系统口令策略" tabindex="-1"><a class="header-anchor" href="#修改系统口令策略" aria-hidden="true">#</a> 修改系统口令策略：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>alter <span class="token constant">SYSTEM</span> set &#39;<span class="token constant">PWD_POLICY</span>&#39; <span class="token operator">=</span> <span class="token number">15</span> <span class="token constant">BOTH</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="sql-管理用户" tabindex="-1"><a class="header-anchor" href="#sql-管理用户" aria-hidden="true">#</a> SQL 管理用户</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>create user hrtest <span class="token constant">IDENTIFIED</span> by dameng123
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="用户输入错误多次-默认-3-次-将会被锁定。" tabindex="-1"><a class="header-anchor" href="#用户输入错误多次-默认-3-次-将会被锁定。" aria-hidden="true">#</a> 用户输入错误多次（默认 3 次），将会被锁定。</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from dba_users<span class="token punctuation">;</span>
select b<span class="token punctuation">.</span><span class="token constant">USERNAME</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>* from sysusers a<span class="token punctuation">,</span> dba_users b where a<span class="token punctuation">.</span>id <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token constant">USER_ID</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建用户" tabindex="-1"><a class="header-anchor" href="#创建用户" aria-hidden="true">#</a> 创建用户</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>create user hrtest <span class="token constant">IDENTIFIED</span> by <span class="token class-name">Dameng123</span> <span class="token constant">DEFAULT</span> <span class="token class-name">TABLESPACE</span> <span class="token constant">TBSTEST</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="用户锁定和解锁" tabindex="-1"><a class="header-anchor" href="#用户锁定和解锁" aria-hidden="true">#</a> 用户锁定和解锁：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>alter user hr <span class="token class-name">ACCOUNT</span> <span class="token constant">UNLOCK</span><span class="token punctuation">;</span>
alter user hr <span class="token class-name">ACCOUNT</span> <span class="token constant">LOCK</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改用户的默认表空间" tabindex="-1"><a class="header-anchor" href="#修改用户的默认表空间" aria-hidden="true">#</a> 修改用户的默认表空间：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>alter user hr <span class="token constant">DEFAULT</span> <span class="token class-name">TABLESPACE</span> dmtbs<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="修改用户密码" tabindex="-1"><a class="header-anchor" href="#修改用户密码" aria-hidden="true">#</a> 修改用户密码:</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>alter user hrtest <span class="token constant">IDENTIFIED</span> by <span class="token string">&quot;Dameng@123&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="删除用户" tabindex="-1"><a class="header-anchor" href="#删除用户" aria-hidden="true">#</a> 删除用户：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>drop user <span class="token keyword">if</span> <span class="token class-name">EXISTS</span> hr<span class="token punctuation">;</span>
drop user <span class="token keyword">if</span> <span class="token constant">EXISTS</span> hr <span class="token constant">CASCADE</span><span class="token punctuation">;</span> <span class="token operator">--</span>生产环境慎用
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="用户资源限制" tabindex="-1"><a class="header-anchor" href="#用户资源限制" aria-hidden="true">#</a> 用户资源限制</h2><p>用户资源限制设置（可以直接使用 limit 子句，也可以使用 profile 来管理用户的资源限制）：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>alter user hr <span class="token constant">LIMIT</span> <span class="token class-name">FAILED_LOGIN_ATTEMPS</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">PASSWORD_LOCK_TIME</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>DM 支持使用 profile 管理用户资源限制（新版本支持，2021 年 10 月以后的版本）</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from <span class="token constant">DBA_PROFILES</span><span class="token punctuation">;</span>
create profile profile1 limit <span class="token class-name">FAILED_LOGIN_ATTEMPS</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">PASSWORD_LOCK_TIME</span> <span class="token number">3</span><span class="token punctuation">,</span> 
<span class="token class-name">PASSWORD_LIFE_TIME</span> <span class="token number">180</span><span class="token punctuation">;</span>
alter user hrtest <span class="token class-name">PROFILE</span> profile1<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>查询用户使用的profile资源限制文件</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select a<span class="token punctuation">.</span>pid profileid<span class="token punctuation">,</span> b<span class="token punctuation">.</span>name profile_name<span class="token punctuation">,</span> a<span class="token punctuation">.</span>uid userid<span class="token punctuation">,</span> c<span class="token punctuation">.</span>name user_name
from <span class="token class-name">SYSUSERPROFILES</span> a<span class="token punctuation">,</span> <span class="token class-name">SYSOBJECTS</span> b<span class="token punctuation">,</span> <span class="token constant">SYSOBJECTS</span> c
where a<span class="token punctuation">.</span><span class="token constant">PID</span> <span class="token operator">=</span> b<span class="token punctuation">.</span>id 
and a<span class="token punctuation">.</span><span class="token constant">UID</span> <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token constant">ID</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>密码带有特殊字符的登录处理 达梦中密码带有特殊字符需要双引号括起来，在 linux 系统下可以使用单引号‘转义。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA03</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ disql hrtest<span class="token operator">/</span>&#39;<span class="token string">&quot;Dameng@123&quot;</span>&#39;
服务器<span class="token punctuation">[</span><span class="token constant">LOCALHOST</span><span class="token operator">:</span><span class="token number">5236</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">1.</span><span class="token function">589</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> conn hrtest<span class="token operator">/</span><span class="token string">&quot;Dameng@123&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以使用右斜杠\转义</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ disql dmoa<span class="token operator">/</span>\&quot;<span class="token class-name">Dameng</span><span class="token annotation punctuation">@123</span>\&quot;
服务器<span class="token punctuation">[</span><span class="token constant">LOCALHOST</span><span class="token operator">:</span><span class="token number">5236</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">3.</span><span class="token function">162</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> alter user dmoa identified by <span class="token string">&quot;Dameng123@#&#39;&quot;</span><span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">6.</span><span class="token function">184</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">1000.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> exit
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@localhost</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ disql dmoa<span class="token operator">/</span>\&quot;<span class="token class-name">Dameng123</span>@#\&#39;\&quot;
服务器<span class="token punctuation">[</span><span class="token constant">LOCALHOST</span><span class="token operator">:</span><span class="token number">5236</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">1.</span><span class="token function">863</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="十-权限管理" tabindex="-1"><a class="header-anchor" href="#十-权限管理" aria-hidden="true">#</a> 十 权限管理</h1><h2 id="赋予数据库权限-系统权限" tabindex="-1"><a class="header-anchor" href="#赋予数据库权限-系统权限" aria-hidden="true">#</a> 赋予数据库权限（系统权限）：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">SQL</span><span class="token operator">&gt;</span> grant create table <span class="token keyword">to</span> <span class="token namespace">hrtest</span><span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">3.</span><span class="token function">431</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">1700.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="赋予对象权限" tabindex="-1"><a class="header-anchor" href="#赋予对象权限" aria-hidden="true">#</a> 赋予对象权限:</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">SQL</span><span class="token operator">&gt;</span> grant select on dmhr<span class="token punctuation">.</span>employee <span class="token keyword">to</span> <span class="token namespace">hrtest</span><span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">535</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">1703.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查看当前用户拥有的权限" tabindex="-1"><a class="header-anchor" href="#查看当前用户拥有的权限" aria-hidden="true">#</a> 查看当前用户拥有的权限：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from session_privs<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="权限的回收" tabindex="-1"><a class="header-anchor" href="#权限的回收" aria-hidden="true">#</a> 权限的回收：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">SQL</span><span class="token operator">&gt;</span> revoke select on dmhr<span class="token punctuation">.</span>employee from hrtest<span class="token punctuation">;</span>
## 操作已执行
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">792</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">1704.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> revoke create table from hrtest<span class="token punctuation">;</span>
## 操作已执行
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">704</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">1705</span>
## 赋予查询对象权限，精确到列
<span class="token constant">SQL</span><span class="token operator">&gt;</span> grant select <span class="token punctuation">(</span>employee_id<span class="token punctuation">,</span> employee_name<span class="token punctuation">)</span> on dmhr<span class="token punctuation">.</span>employee <span class="token keyword">to</span> <span class="token namespace">hrtest</span><span class="token punctuation">;</span>
## 操作已执行
已用时间<span class="token operator">:</span> <span class="token number">2.</span><span class="token function">175</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">1706.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>相关数据字典：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from dba_sys_privs t where t<span class="token punctuation">.</span><span class="token constant">GRANTEE</span><span class="token operator">=</span> <span class="token char">&#39;HRTEST&#39;</span><span class="token punctuation">;</span>
select <span class="token operator">*</span> from dba_role_privs t where t<span class="token punctuation">.</span><span class="token constant">GRANTEE</span><span class="token operator">=</span> <span class="token char">&#39;HRTEST&#39;</span><span class="token punctuation">;</span>
select <span class="token operator">*</span> from dba_tab_privs t where t<span class="token punctuation">.</span><span class="token constant">GRANTEE</span><span class="token operator">=</span> <span class="token char">&#39;HRTEST&#39;</span><span class="token punctuation">;</span>
<span class="token constant">DM</span> 默 认 不 能 授 予 用 户 在 其 他 模 式 下 数 据 定 义 （ <span class="token constant">DDL</span> ） 的 权 限 ， 由 参 数
<span class="token constant">ENABLE_DDL_ANY_PRIV</span> 指定，默认为 <span class="token number">0</span>。
grant select any table <span class="token keyword">to</span> <span class="token namespace">hrtest</span><span class="token punctuation">;</span>
select <span class="token operator">*</span> from v\$parameter t where name like &#39;<span class="token operator">%</span><span class="token constant">ENABLE_DDL_ANY_PRIV</span><span class="token operator">%</span>&#39;<span class="token punctuation">;</span>
alter <span class="token constant">SYSTEM</span> set &#39;<span class="token constant">ENABLE_DDL_ANY_PRIV</span>&#39; <span class="token operator">=</span> <span class="token number">1</span> both<span class="token punctuation">;</span> <span class="token operator">--</span>开启后可正常赋予权限
grant create any table <span class="token keyword">to</span> <span class="token namespace">hrtest</span><span class="token punctuation">;</span>
grant create any index <span class="token keyword">to</span> <span class="token namespace">hrtest</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="十一-角色管理" tabindex="-1"><a class="header-anchor" href="#十一-角色管理" aria-hidden="true">#</a> 十一 角色管理</h1><h2 id="角色类型" tabindex="-1"><a class="header-anchor" href="#角色类型" aria-hidden="true">#</a> 角色类型</h2><p>角色是权限的集合，角色使权限管理更加方便。 DBA：具有几乎所有权限（除审计和强制访问控制之外），默认赋给 SYSDBA 用户。 PUBLIC：具有对当前模式下对象的 DML 数据操作权限。 RESOURCE：具有在当前模式下对象定义权限（创建表 索引 视图等）； SOI：具有查询 sys 开头系统表的权限； VTI：具有查询 v$开头的动态视图权限（动态视图记录在 v$dynamic_tables，如果没有此权限，DM 管理工具上会报没有查询 v$视图权限） DB_AUDIT_开头的角色是审计相关角色，具有审计相关权限，默认赋给 SYSAUDITOR。 DB_POLICY_开头的角色是安全相关角色，具有强制访问控制等权限，默认赋给 SYSSSO。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from dba_roles<span class="token punctuation">;</span>
create role r1<span class="token punctuation">;</span>
grant create table <span class="token keyword">to</span> <span class="token namespace">r1</span><span class="token punctuation">;</span>
grant select on dmhr<span class="token punctuation">.</span>department <span class="token keyword">to</span> <span class="token namespace">r1</span><span class="token punctuation">;</span>
grant r1 <span class="token keyword">to</span> <span class="token namespace">hrtest</span><span class="token punctuation">;</span>
<span class="token function">sp_set_role</span><span class="token punctuation">(</span><span class="token char">&#39;R1&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">--</span>角色禁用和启用，禁用后角色权限将不在生效。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>赋予对象权限增加 with grant option 说明权限可以转授，回收时要增加 cascade 关键字级联 回收权限，否则报错：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>revoke select on dmhr<span class="token punctuation">.</span>employee from r2 <span class="token constant">CASCADE</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h1 id="十二-数据库的备份还原" tabindex="-1"><a class="header-anchor" href="#十二-数据库的备份还原" aria-hidden="true">#</a> 十二 数据库的备份还原</h1><h2 id="备份还原基本概念" tabindex="-1"><a class="header-anchor" href="#备份还原基本概念" aria-hidden="true">#</a> 备份还原基本概念</h2><p>备份包含物理备份和逻辑备份。 物理备份是拷贝有效的数据页。逻辑备份是导出数据库中逻辑数据。 物理备份分为完全备份 增量备份；联机备份（热备）和脱机备份（冷备）。 完全备份是指一个备份包含指定数据库或表空间的所有数据； 增量备份是指在一次全备份或上一次增量备份后，以后每次的备份只需备份与前一次相比增加或者被修改的文件； 增量备份包含差异增量备份和累积增量备份，默认是差异增量备份。 差异增量备份的基础备份集可以是全量备份，也可以是增量备份； 累计增量备份的基备份集只能是全量备份。 热备：指数据库启动状态下的备份 冷备：指数据库关闭状态下的备份。 备份级别：全库备份 表空间级备份 表级备份 归档备份。 物理还原是备份的逆过程； 恢复是使用归档将数据库恢复到最新状态或指定时间点；或使用备份集中的 redo 信息将数据库恢复至一致性状态。</p><h2 id="备份-还原与恢复的关系" tabindex="-1"><a class="header-anchor" href="#备份-还原与恢复的关系" aria-hidden="true">#</a> 备份 还原与恢复的关系</h2><p>备份还原两个重要参数：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>select <span class="token operator">*</span> from v\$parameter t where name in <span class="token punctuation">(</span>&#39;<span class="token constant">BAK_PATH</span><span class="token char">&#39;, &#39;</span><span class="token constant">BAK_USE_AP</span>&#39;<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>BAK_PATH：DM 默认的备份路径，生成环境不要和源库数据文件放在同一磁盘上。避免磁 盘损坏，数据文件和备份文件同时损坏的情况。 BAK_USE_AP：备份还原策略，默认使用 DMAP 辅助进程。</p><h2 id="查看-ap-服务是否启动" tabindex="-1"><a class="header-anchor" href="#查看-ap-服务是否启动" aria-hidden="true">#</a> 查看 AP 服务是否启动：</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA04</span> bak<span class="token punctuation">]</span>$ ps <span class="token operator">-</span>ef<span class="token operator">|</span>grep dmap
dmdba <span class="token number">86474</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">4</span> 月 <span class="token number">14</span> <span class="token operator">?</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span> <span class="token operator">/</span>dm8<span class="token operator">/</span>bin<span class="token operator">/</span>dmap
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果 AP 服务没有启动，则备份报错： [执行语句1]:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>backup database<span class="token punctuation">;</span>
执行失败<span class="token punctuation">(</span>语句<span class="token number">1</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token number">7170</span><span class="token operator">:</span> bakres 连接 <span class="token constant">DMAP</span> 失败
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="脱机备份与还原数据库" tabindex="-1"><a class="header-anchor" href="#脱机备份与还原数据库" aria-hidden="true">#</a> 脱机备份与还原数据库</h2><p>脱机备份（数据库关闭状态下的备份） 一 使用 dmrman 工具可以脱机备份 库备份（冷备）</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">RMAN</span><span class="token operator">&gt;</span> backup database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39;<span class="token punctuation">;</span>
backup database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39;<span class="token punctuation">;</span>
file dm<span class="token punctuation">.</span>key not found<span class="token punctuation">,</span> use <span class="token keyword">default</span> license<span class="token operator">!</span>
<span class="token class-name">Database</span> mode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oguid <span class="token operator">=</span> <span class="token number">0</span>
<span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
<span class="token constant">EP</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>&#39;s cur_lsn<span class="token punctuation">[</span><span class="token number">46292</span><span class="token punctuation">]</span><span class="token punctuation">,</span> file_lsn<span class="token punctuation">[</span><span class="token number">46292</span><span class="token punctuation">]</span>
<span class="token class-name">Processing</span> backupset <span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>bak<span class="token operator">/</span><span class="token constant">DB_DM_FULL_20211222_152753_249786</span>
<span class="token punctuation">[</span><span class="token class-name">Percent</span><span class="token operator">:</span><span class="token number">100.00</span><span class="token operator">%</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Speed</span><span class="token operator">:</span><span class="token number">0.00</span>M<span class="token operator">/</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Cost</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Remaining</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">]</span>
backup successfully<span class="token operator">!</span>
time used<span class="token operator">:</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01.255</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="表空间的还原和恢复" tabindex="-1"><a class="header-anchor" href="#表空间的还原和恢复" aria-hidden="true">#</a> 表空间的还原和恢复</h2><p>测试删除普通表空间数据文件，演示普通表空间的还原于恢复。 DM8 表空间的还原与恢复需要在脱机状态下操作. 制造测试数据，然后删除表空间数据文件：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA04</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ <span class="token class-name">DmServiceDMSERVER</span> start
<span class="token class-name">Starting</span> <span class="token class-name">DmServiceDMSERVER</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token constant">OK</span> <span class="token punctuation">]</span>
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA04</span> <span class="token operator">~</span><span class="token punctuation">]</span>$ disql sysdba<span class="token operator">/</span><span class="token constant">SYSDBA</span>
服务器<span class="token punctuation">[</span><span class="token constant">LOCALHOST</span><span class="token operator">:</span><span class="token number">5236</span><span class="token punctuation">]</span><span class="token operator">:</span>处于普通打开状态
登录使用时间 <span class="token operator">:</span> <span class="token number">28.</span><span class="token function">250</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
disql <span class="token constant">V8</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> from t_dept<span class="token punctuation">;</span>
行号 <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1</span> <span class="token number">46</span>
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">278</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">501.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> insert into t_dept select <span class="token operator">*</span> from dmhr<span class="token punctuation">.</span>department<span class="token punctuation">;</span>
<span class="token number">99</span> <span class="token operator">/</span> <span class="token number">118</span>
影响行数 <span class="token number">47</span>
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">972</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">502.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> commit<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">313</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">503.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> from t_dept<span class="token punctuation">;</span>
行号 <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1</span> <span class="token number">93</span>
已用时间<span class="token operator">:</span> <span class="token number">0.</span><span class="token function">318</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">504.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> insert into t_dept select <span class="token operator">*</span> from dmhr<span class="token punctuation">.</span>department<span class="token punctuation">;</span>
影响行数 <span class="token number">47</span>
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">972</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">502.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> commit<span class="token punctuation">;</span>
操作已执行
已用时间<span class="token operator">:</span> <span class="token number">1.</span><span class="token function">313</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">503.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> from t_dept<span class="token punctuation">;</span>
行号 <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1</span> <span class="token number">140</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> select table_name<span class="token punctuation">,</span> tablespace_name<span class="token punctuation">,</span>owner from dba_tables t where t<span class="token punctuation">.</span>table_name<span class="token operator">=</span><span class="token char">&#39;T_DEPT&#39;</span><span class="token punctuation">;</span>
行号 <span class="token constant">TABLE_NAME</span> <span class="token constant">TABLESPACE_NAME</span> <span class="token constant">OWNER</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
<span class="token number">1</span> <span class="token constant">T_DEPT</span> <span class="token constant">MAIN</span> <span class="token constant">SYSDBA</span>
已用时间<span class="token operator">:</span> <span class="token number">103.</span><span class="token function">392</span><span class="token punctuation">(</span>毫秒<span class="token punctuation">)</span><span class="token punctuation">.</span> 执行号<span class="token operator">:</span><span class="token number">600.</span>
<span class="token constant">SQL</span><span class="token operator">&gt;</span> host rm <span class="token constant">MAIN</span><span class="token punctuation">.</span><span class="token constant">DBF</span>
表空间 <span class="token constant">MAIN</span> 的还原与恢复演示：
<span class="token punctuation">[</span>dmdba<span class="token annotation punctuation">@KylinDCA04</span> full<span class="token punctuation">]</span>$ dmrman
dmrman <span class="token constant">V8</span>
<span class="token constant">RMAN</span><span class="token operator">&gt;</span> restore database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DAMENG</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; tablespace main from backupset 
&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span><span class="token constant">CONSOLEFULLBAK</span>&#39;<span class="token punctuation">;</span>
restore database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DAMENG</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; tablespace main from backupset 
&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span><span class="token constant">CONSOLEFULLBAK</span>&#39;<span class="token punctuation">;</span>
file dm<span class="token punctuation">.</span>key not found<span class="token punctuation">,</span> use <span class="token keyword">default</span> license<span class="token operator">!</span>
<span class="token number">100</span> <span class="token operator">/</span> <span class="token number">118</span>
<span class="token class-name">Database</span> mode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oguid <span class="token operator">=</span> <span class="token number">0</span>
<span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
<span class="token constant">EP</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>&#39;s cur_lsn<span class="token punctuation">[</span><span class="token number">1507247</span><span class="token punctuation">]</span><span class="token punctuation">,</span> file_lsn<span class="token punctuation">[</span><span class="token number">1507247</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token class-name">Percent</span><span class="token operator">:</span><span class="token number">100.00</span><span class="token operator">%</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Speed</span><span class="token operator">:</span><span class="token number">0.00</span>M<span class="token operator">/</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Cost</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Remaining</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">]</span>
restore successfully<span class="token punctuation">.</span>
time used<span class="token operator">:</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02.595</span>
表空间的恢复系统会自动利用归档恢复到最新状态。
<span class="token constant">RMAN</span><span class="token operator">&gt;</span> recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DAMENG</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; tablespace main<span class="token punctuation">;</span>
recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DAMENG</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; tablespace main<span class="token punctuation">;</span>
<span class="token class-name">Database</span> mode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oguid <span class="token operator">=</span> <span class="token number">0</span>
<span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
<span class="token constant">EP</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>&#39;s cur_lsn<span class="token punctuation">[</span><span class="token number">1507247</span><span class="token punctuation">]</span><span class="token punctuation">,</span> file_lsn<span class="token punctuation">[</span><span class="token number">1507247</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token class-name">Percent</span><span class="token operator">:</span><span class="token number">100.00</span><span class="token operator">%</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Speed</span><span class="token operator">:</span><span class="token number">0.00</span><span class="token constant">PKG</span><span class="token operator">/</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Cost</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Remaining</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">]</span>
recover successfully<span class="token punctuation">.</span>
time used<span class="token operator">:</span> <span class="token number">464.</span><span class="token function">414</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>全库的还原与恢复 测试场景：删除 system 数据文件 使用全量备份集或增量备份集进行还原和恢复步骤相同。 假如 a（全量）-&gt;b1(增量)-&gt; b2(增量) -&gt; c1(增量) 如果全量备份丢失，基于其增量的备份也将无法正常使用</p><p>（1）数据库的还原</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">RMAN</span><span class="token operator">&gt;</span> restore database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; from backupset 
&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span><span class="token constant">ONLINEBAK_02</span>&#39;<span class="token punctuation">;</span>
restore database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; from backupset &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span><span class="token constant">ONLINEBAK_02</span>&#39;<span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token class-name">Percent</span><span class="token operator">:</span><span class="token number">0.00</span><span class="token operator">%</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Speed</span><span class="token operator">:</span><span class="token number">0.00</span>M<span class="token operator">/</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Cost</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Remaining</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">]</span><span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
<span class="token punctuation">[</span><span class="token class-name">Percent</span><span class="token operator">:</span><span class="token number">100.00</span><span class="token operator">%</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Speed</span><span class="token operator">:</span><span class="token number">0.00</span>M<span class="token operator">/</span>s<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Cost</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Remaining</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">]</span>
restore successfully<span class="token punctuation">.</span>
time used<span class="token operator">:</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">02.330</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（2）数据库的恢复</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">RMAN</span><span class="token operator">&gt;</span> recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; <span class="token keyword">with</span> <span class="token namespace">archivedir</span> &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>arch&#39;<span class="token punctuation">;</span>
recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; <span class="token keyword">with</span> <span class="token namespace">archivedir</span> &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>arch&#39;<span class="token punctuation">;</span>
<span class="token class-name">Database</span> mode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oguid <span class="token operator">=</span> <span class="token number">0</span>
<span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
<span class="token constant">EP</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>&#39;s cur_lsn<span class="token punctuation">[</span><span class="token number">46002</span><span class="token punctuation">]</span><span class="token punctuation">,</span> file_lsn<span class="token punctuation">[</span><span class="token number">46002</span><span class="token punctuation">]</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">4</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">11</span><span class="token operator">%</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">8</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">22</span><span class="token operator">%</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">12</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">34</span><span class="token operator">%</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">16</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">45</span><span class="token operator">%</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">20</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">57</span><span class="token operator">%</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">24</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">68</span><span class="token operator">%</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">28</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">80</span><span class="token operator">%</span>
<span class="token number">102</span> <span class="token operator">/</span> <span class="token number">118</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">32</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">91</span><span class="token operator">%</span>
<span class="token constant">EP</span><span class="token operator">:</span><span class="token number">0</span> total <span class="token number">35</span> pkgs applied<span class="token punctuation">,</span> percent<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span>
recover successfully<span class="token operator">!</span>
time used<span class="token operator">:</span> <span class="token number">294.</span><span class="token function">062</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>（3）更新数据库魔数</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token constant">RMAN</span><span class="token operator">&gt;</span> recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; update db_magic<span class="token punctuation">;</span>
recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DM</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; update db_magic<span class="token punctuation">;</span>
<span class="token class-name">Database</span> mode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> oguid <span class="token operator">=</span> <span class="token number">0</span>
<span class="token class-name">Normal</span> of <span class="token constant">FAST</span>
<span class="token class-name">Normal</span> of <span class="token constant">DEFAULT</span>
<span class="token class-name">Normal</span> of <span class="token constant">RECYCLE</span>
<span class="token class-name">Normal</span> of <span class="token constant">KEEP</span>
<span class="token class-name">Normal</span> of <span class="token constant">ROLL</span>
<span class="token constant">EP</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>&#39;s cur_lsn<span class="token punctuation">[</span><span class="token number">46292</span><span class="token punctuation">]</span><span class="token punctuation">,</span> file_lsn<span class="token punctuation">[</span><span class="token number">46292</span><span class="token punctuation">]</span>
recover successfully<span class="token operator">!</span>
time used<span class="token operator">:</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">01.009</span>
不完全恢复的使用场景：
表误删除（<span class="token constant">DROP</span>），可以指定归档恢复到删除的前一刻。
recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMTEST</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; <span class="token keyword">with</span> <span class="token namespace">archivedir</span> &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>arch&#39; until lsn <span class="token constant">XX</span><span class="token punctuation">;</span>
recover database &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DMTEST</span><span class="token operator">/</span>dm<span class="token punctuation">.</span>ini&#39; <span class="token keyword">with</span> <span class="token namespace">archivedir</span> &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>arch&#39; until time <span class="token constant">XX</span><span class="token punctuation">;</span>
show 查看备份集
<span class="token constant">RMAN</span><span class="token operator">&gt;</span> show backupset &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DAMENG</span><span class="token operator">/</span>bak_full&#39;<span class="token punctuation">;</span>
remove 删除备份集
<span class="token constant">RMAN</span><span class="token operator">&gt;</span> remove backupset &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DAMENG</span><span class="token operator">/</span>bak_increment&#39;<span class="token punctuation">;</span>
check 检查备份集
<span class="token constant">RMAN</span><span class="token operator">&gt;</span> check backupset &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>data<span class="token operator">/</span><span class="token constant">DAMENG</span><span class="token operator">/</span>bak_full&#39;<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="联机备份与还原数据库" tabindex="-1"><a class="header-anchor" href="#联机备份与还原数据库" aria-hidden="true">#</a> 联机备份与还原数据库</h2><p>联机备份：数据库是启动状态，联机备份要求数据库打开归档。 备份时 AP 服务需要为启动状态。 SQL 备份数据库 备份数据库</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>backup database<span class="token punctuation">;</span> <span class="token operator">--</span>全量备份
backup database increment<span class="token punctuation">;</span> <span class="token operator">--</span>增量备份
backup database full <span class="token keyword">to</span> <span class="token constant">ONLINEBAK_01</span> backupset
&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span><span class="token constant">ONLINEBAK_01</span>&#39;<span class="token punctuation">;</span>
backup database increment <span class="token constant">BASE</span> <span class="token constant">ON</span> <span class="token constant">BACKUPSET</span> 
&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span><span class="token constant">ONLINEBAK_01</span>&#39; <span class="token keyword">to</span> <span class="token constant">ONLINEBAKINCR_01</span> 
backupset &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>incr<span class="token operator">/</span><span class="token constant">ONLINEBAK_01</span>&#39; <span class="token punctuation">;</span>
backup database increment <span class="token keyword">with</span> <span class="token constant">BACKUPDIR</span> &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span>&#39; <span class="token keyword">to</span>
<span class="token constant">ONLINEBAKINCR_02</span> backupset &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>incr<span class="token operator">/</span><span class="token constant">ONLINEBAK_02</span>&#39; <span class="token punctuation">;</span>
备份集管理
<span class="token operator">--</span>查看备份集
select <span class="token operator">*</span> from v\$backupset<span class="token punctuation">;</span>
<span class="token operator">--</span>备份集相关函数
select <span class="token operator">*</span> from v\$ifun t where t<span class="token punctuation">.</span>name like &#39;<span class="token constant">SF_BAKSET</span><span class="token operator">%</span>&#39;<span class="token punctuation">;</span>
<span class="token function">SF_BAKSET_BACKUP_DIR_ADD</span><span class="token punctuation">(</span><span class="token char">&#39;DISK&#39;</span><span class="token punctuation">,</span>&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span>&#39;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">SF_BAKSET_BACKUP_DIR_ADD</span><span class="token punctuation">(</span><span class="token char">&#39;DISK&#39;</span><span class="token punctuation">,</span>&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>incr<span class="token operator">/</span>&#39;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">--</span>校验备份集
select <span class="token function">SF_BAKSET_CHECK</span><span class="token punctuation">(</span><span class="token char">&#39;DISK&#39;</span><span class="token punctuation">,</span>&#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>incr<span class="token operator">/</span><span class="token constant">ONLINEBAK_02</span>&#39;<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">--</span>查看各个增量备份集的基础备份集：
select t<span class="token punctuation">.</span><span class="token constant">BACKUP_NAME</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token constant">BACKUP_PATH</span><span class="token punctuation">,</span> <span class="token constant">LEVEL</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span>type<span class="token punctuation">,</span>
 <span class="token function">SYS_CONNECT_BY_PATH</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token constant">BACKUP_NAME</span><span class="token punctuation">,</span> <span class="token char">&#39;/&#39;</span><span class="token punctuation">)</span> <span class="token constant">BACKUP_BASECONNECT</span><span class="token punctuation">,</span>
 <span class="token constant">CONNECT_BY_ISLEAF</span> <span class="token class-name">ISLEAF</span>
 from <span class="token punctuation">(</span>select a<span class="token punctuation">.</span><span class="token constant">BACKUP_NAME</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token constant">BACKUP_PATH</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token constant">BASE_NAME</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span><span class="token constant">TYPE</span>
 from v\$<span class="token class-name">BACKUPSET</span> a<span class="token punctuation">)</span> t 
connect by t<span class="token punctuation">.</span><span class="token constant">BASE_NAME</span> <span class="token operator">=</span> <span class="token constant">PRIOR</span> t<span class="token punctuation">.</span><span class="token constant">BACKUP_NAME</span> 
start <span class="token keyword">with</span> <span class="token namespace">t<span class="token punctuation">.</span>type</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
表空间备份
backup tablespace dmtbs<span class="token punctuation">;</span>
backup tablespace dmtbs <span class="token constant">INCREMENT</span> <span class="token keyword">with</span> <span class="token constant">BACKUPDIR</span> &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>full<span class="token operator">/</span>&#39; <span class="token keyword">to</span>
<span class="token constant">DMTBSINCR_01</span> backupset &#39;<span class="token operator">/</span>dm8<span class="token operator">/</span>backup<span class="token operator">/</span>incr<span class="token operator">/</span><span class="token constant">DMTBSINCR_01</span>&#39; <span class="token punctuation">;</span>
表和归档的备份
backup table dmhr<span class="token punctuation">.</span>employee<span class="token punctuation">;</span> <span class="token operator">--</span>表的备份
backup archivelog all<span class="token punctuation">;</span> <span class="token operator">--</span>归档备份
库级 表空间的还原和恢复不支持联机恢复，只支持脱机还原恢复。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 270490096@qq.com">zhengtianqi</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="md-link nav-link prev" href="/blog-vue/posts/java/%E6%B1%A0%E5%8C%96%E4%B9%8B%E7%BA%BF%E7%A8%8B%E6%B1%A0.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->池化之线程池</div></a><a class="md-link nav-link next" href="/blog-vue/posts/java/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">单例模式<!----></div></a></nav><div id="comment" class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">昵称</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">邮箱</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">网址</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="请留言。(填写邮箱可在被回复时收到邮件提醒)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>预览:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="表情" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="表情包"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="上传图片"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="预览"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-captcha-container"></div><div class="wl-text-number">0 <!--v-if-->  字</div><button type="button" class="wl-btn">登录</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->提交<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="搜索表情包"><!--v-if--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> 评论</div><ul class="wl-sort"><!--[--><li class="active">按正序</li><li class="">按倒序</li><li class="">按热度</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.15.5</div></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2023 ztq</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/blog-vue/assets/app-0ce632a0.js" defer></script>
  </body>
</html>
